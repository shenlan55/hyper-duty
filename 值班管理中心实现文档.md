# å€¼ç­ç®¡ç†ä¸­å¿ƒå®ç°æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬æ–‡æ¡£è®°å½•äº†å€¼ç­ç®¡ç†ç³»ç»Ÿçš„å®Œæ•´å®ç°ï¼ŒåŒ…æ‹¬æ’ç­è®¡åˆ’ç®¡ç†ã€è¯·å‡è°ƒç­ç®¡ç†ã€æŠ¥è¡¨ç»Ÿè®¡ç­‰æ ¸å¿ƒæ¨¡å—ã€‚

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### è¡¨ç»“æ„æ€»è§ˆ

**å€¼ç­ç®¡ç†æ ¸å¿ƒè¡¨ï¼ˆ11ä¸ªï¼‰**
1. duty_schedule - å€¼ç­è¡¨
2. duty_schedule_employee - å€¼ç­è¡¨äººå‘˜å…³è”è¡¨
3. duty_assignment - å€¼ç­å®‰æ’è¡¨
4. duty_record - å€¼ç­è®°å½•è¡¨
5. duty_shift_config - ç­æ¬¡é…ç½®è¡¨
6. duty_schedule_rule - æ’ç­è§„åˆ™é…ç½®è¡¨
7. employee_available_time - äººå‘˜å¯æ’ç­æ—¶æ®µè¡¨
8. leave_request - è¯·å‡ç”³è¯·è¡¨
9. approval_record - å®¡æ‰¹è®°å½•è¡¨
10. swap_request - è°ƒç­è®°å½•è¡¨
11. schedule_version - æ’ç­ç‰ˆæœ¬è¡¨
12. notification - æ¶ˆæ¯é€šçŸ¥è¡¨
13. duty_statistics - æ’ç­ç»Ÿè®¡è¡¨

**æ€»è®¡ï¼š13ä¸ªè¡¨**

#### 1. å€¼ç­è¡¨äººå‘˜å…³è”è¡¨ (duty_schedule_employee)
ç®¡ç†å€¼ç­è¡¨ä¸äººå‘˜çš„å…³è”å…³ç³»ï¼Œæ”¯æŒå€¼ç­é•¿è®¾ç½®ã€‚

**å­—æ®µè¯´æ˜:**
- `schedule_id`: å€¼ç­è¡¨ID
- `employee_id`: å‘˜å·¥ID
- `is_leader`: æ˜¯å¦æ˜¯å€¼ç­é•¿ï¼ˆ0-å¦,1-æ˜¯ï¼‰
- `sort_order`: æ’åºåºå·

#### 2. ç­æ¬¡é…ç½®è¡¨ (duty_shift_config)
ç®¡ç†ç­æ¬¡çš„åŸºæœ¬ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç­æ¬¡ç±»å‹ã€ä¸Šä¸‹ç­æ—¶é—´ã€æ—¶é•¿ç­‰ã€‚

**å­—æ®µè¯´æ˜:**
- `shift_name`: ç­æ¬¡åç§°
- `shift_code`: ç­æ¬¡ç¼–ç ï¼ˆå”¯ä¸€ï¼‰
- `shift_type`: ç­æ¬¡ç±»å‹ï¼ˆ1-æ—©ç­,2-ä¸­ç­,3-æ™šç­,4-å…¨å¤©,5-å¤œç­ï¼‰
- `start_time`: ä¸Šç­æ—¶é—´
- `end_time`: ä¸‹ç­æ—¶é—´
- `duration_hours`: æ—¶é•¿ï¼ˆå°æ—¶ï¼‰
- `break_hours`: ä¼‘æ¯æ—¶é•¿ï¼ˆå°æ—¶ï¼‰
- `is_overtime_shift`: æ˜¯å¦åŠ ç­ç­æ¬¡
- `status`: çŠ¶æ€ï¼ˆ0-ç¦ç”¨,1-å¯ç”¨ï¼‰

#### 3. æ’ç­è§„åˆ™é…ç½®è¡¨ (duty_schedule_rule)
å®šä¹‰æ’ç­çš„è§„åˆ™ï¼ŒåŒ…æ‹¬å‘¨æœŸã€è´Ÿè½½ä¸Šé™ã€æ›¿è¡¥ä¼˜å…ˆçº§ç­‰ã€‚

**å­—æ®µè¯´æ˜:**
- `rule_name`: è§„åˆ™åç§°
- `rule_code`: è§„åˆ™ç¼–ç ï¼ˆå”¯ä¸€ï¼‰
- `schedule_cycle`: æ’ç­å‘¨æœŸï¼ˆ1-æŒ‰å‘¨,2-æŒ‰æœˆ,3-æŒ‰å­£åº¦ï¼‰
- `max_daily_shifts`: æ¯æ—¥æœ€å¤§ç­æ¬¡æ•°
- `max_weekly_hours`: æ¯å‘¨æœ€å¤§å·¥ä½œæ—¶é•¿
- `max_monthly_hours`: æ¯æœˆæœ€å¤§å·¥ä½œæ—¶é•¿
- `min_rest_days`: æ¯æœˆæœ€å°‘ä¼‘æ¯å¤©æ•°
- `substitute_priority_rule`: æ›¿è¡¥ä¼˜å…ˆçº§è§„åˆ™
- `conflict_detection_rule`: å†²çªæ£€æµ‹è§„åˆ™

#### 4. äººå‘˜å¯æ’ç­æ—¶æ®µè¡¨ (employee_available_time)
è®°å½•æ¯ä¸ªå‘˜å·¥åœ¨æ¯å‘¨å„å¤©çš„å¯æ’ç­æ—¶é—´æ®µã€‚

**å­—æ®µè¯´æ˜:**
- `employee_id`: å‘˜å·¥ID
- `day_of_week`: æ˜ŸæœŸï¼ˆ1-å‘¨ä¸€,2-å‘¨äºŒ...7-å‘¨æ—¥ï¼‰
- `start_time`: å¼€å§‹æ—¶é—´
- `end_time`: ç»“æŸæ—¶é—´
- `is_available`: æ˜¯å¦å¯ç”¨

#### 5. è¯·å‡ç”³è¯·è¡¨ (leave_request)
è®°å½•å‘˜å·¥çš„è¯·å‡ç”³è¯·ä¿¡æ¯ã€‚

**å­—æ®µè¯´æ˜:**
- `request_no`: ç”³è¯·ç¼–å·ï¼ˆå”¯ä¸€ï¼‰
- `employee_id`: ç”³è¯·äººID
- `schedule_id`: å€¼ç­è¡¨ID
- `leave_type`: è¯·å‡ç±»å‹ï¼ˆ1-äº‹å‡,2-ç—…å‡,3-å¹´å‡,4-è°ƒä¼‘,5-å…¶ä»–ï¼‰
- `start_date`: å¼€å§‹æ—¥æœŸ
- `end_date`: ç»“æŸæ—¥æœŸ
- `start_time`: å¼€å§‹æ—¶é—´
- `end_time`: ç»“æŸæ—¶é—´
- `total_hours`: è¯·å‡æ€»æ—¶é•¿ï¼ˆå°æ—¶ï¼‰
- `reason`: è¯·å‡åŸå› 
- `attachment_url`: é™„ä»¶URL
- `approval_status`: å®¡æ‰¹çŠ¶æ€ï¼ˆpending-å¾…å®¡æ‰¹,approved-å·²é€šè¿‡,rejected-å·²æ‹’ç»,cancelled-å·²å–æ¶ˆï¼‰
- `current_approver_id`: å½“å‰å®¡æ‰¹äººID
- `approval_level`: å½“å‰å®¡æ‰¹å±‚çº§
- `total_approval_levels`: æ€»å®¡æ‰¹å±‚çº§
- `substitute_employee_id`: æ›¿è¡¥äººå‘˜ID
- `substitute_type`: æ›¿è¡¥ç±»å‹ï¼ˆ1-è‡ªåŠ¨,2-æ‰‹åŠ¨ï¼‰
- `substitute_status`: æ›¿è¡¥çŠ¶æ€ï¼ˆpending-å¾…ç¡®è®¤,confirmed-å·²ç¡®è®¤,rejected-å·²æ‹’ç»ï¼‰
- `reject_reason`: æ‹’ç»åŸå› 
- `approval_opinion`: å®¡æ‰¹æ„è§
- `schedule_completed`: æ’ç­æ˜¯å¦å®Œæˆï¼ˆ0-æœªå®Œæˆ,1-å·²å®Œæˆï¼‰
- `schedule_completed_time`: æ’ç­å®Œæˆæ—¶é—´
- `schedule_completed_by`: æ’ç­å®ŒæˆäººID
- `create_time`: åˆ›å»ºæ—¶é—´
- `update_time`: æ›´æ–°æ—¶é—´

#### 6. å®¡æ‰¹è®°å½•è¡¨ (approval_record)
è®°å½•å®¡æ‰¹å†å²ï¼Œæ”¯æŒå¤šçº§å®¡æ‰¹ã€‚

**å­—æ®µè¯´æ˜:**
- `request_id`: ç”³è¯·ID
- `request_type`: ç”³è¯·ç±»å‹ï¼ˆleave-è¯·å‡,swap-è°ƒç­ï¼‰
- `approver_id`: å®¡æ‰¹äººID
- `approval_level`: å®¡æ‰¹å±‚çº§
- `approval_status`: å®¡æ‰¹çŠ¶æ€ï¼ˆapproved-é€šè¿‡,rejected-æ‹’ç»ï¼‰
- `approval_opinion`: å®¡æ‰¹æ„è§
- `approval_time`: å®¡æ‰¹æ—¶é—´
- `create_time`: åˆ›å»ºæ—¶é—´

#### 7. è°ƒç­è®°å½•è¡¨ (swap_request)
è®°å½•è°ƒç­ç”³è¯·ä¿¡æ¯ã€‚

**å­—æ®µè¯´æ˜:**
- `request_no`: ç”³è¯·ç¼–å·
- `original_employee_id`: åŸå€¼ç­äººå‘˜ID
- `target_employee_id`: ç›®æ ‡å€¼ç­äººå‘˜ID
- `original_assignment_id`: åŸå€¼ç­å®‰æ’ID
- `target_assignment_id`: ç›®æ ‡å€¼ç­å®‰æ’ID
- `swap_date`: è°ƒç­æ—¥æœŸ
- `swap_shift`: è°ƒç­ç­æ¬¡
- `reason`: è°ƒç­åŸå› 
- `approval_status`: å®¡æ‰¹çŠ¶æ€ï¼ˆpending-å¾…å®¡æ‰¹,approved-å·²é€šè¿‡,rejected-å·²æ‹’ç»,cancelled-å·²å–æ¶ˆï¼‰
- `current_approver_id`: å½“å‰å®¡æ‰¹äººID
- `approval_level`: å½“å‰å®¡æ‰¹å±‚çº§
- `total_approval_levels`: æ€»å®¡æ‰¹å±‚çº§
- `original_confirm_status`: åŸäººå‘˜ç¡®è®¤çŠ¶æ€
- `target_confirm_status`: ç›®æ ‡äººå‘˜ç¡®è®¤çŠ¶æ€
- `reject_reason`: æ‹’ç»åŸå› 
- `create_time`: åˆ›å»ºæ—¶é—´
- `update_time`: æ›´æ–°æ—¶é—´



#### 9. æ’ç­ç‰ˆæœ¬è¡¨ (schedule_version)
ç®¡ç†æ’ç­è®¡åˆ’çš„ç‰ˆæœ¬ï¼Œæ”¯æŒå¤šç‰ˆæœ¬å¯¹æ¯”ã€‚

**å­—æ®µè¯´æ˜:**
- `schedule_id`: å€¼ç­è¡¨ID
- `version_name`: ç‰ˆæœ¬åç§°
- `version_code`: ç‰ˆæœ¬ç¼–ç 
- `start_date`: å¼€å§‹æ—¥æœŸ
- `end_date`: ç»“æŸæ—¥æœŸ
- `status`: çŠ¶æ€ï¼ˆdraft-è‰ç¨¿,published-å·²å‘å¸ƒ,archived-å·²å½’æ¡£ï¼‰
- `is_current`: æ˜¯å¦å½“å‰ç‰ˆæœ¬
- `create_time`: åˆ›å»ºæ—¶é—´
- `update_time`: æ›´æ–°æ—¶é—´

#### 10. æ¶ˆæ¯é€šçŸ¥è¡¨ (notification)
è®°å½•ç³»ç»Ÿæ¶ˆæ¯é€šçŸ¥ï¼Œç”¨äºæé†’ç”¨æˆ·ã€‚

**å­—æ®µè¯´æ˜:**
- `receiver_id`: æ¥æ”¶äººID
- `receiver_name`: æ¥æ”¶äººå§“å
- `title`: é€šçŸ¥æ ‡é¢˜
- `content`: é€šçŸ¥å†…å®¹
- `type`: é€šçŸ¥ç±»å‹
- `status`: çŠ¶æ€ï¼ˆunread-æœªè¯»,read-å·²è¯»ï¼‰
- `related_id`: å…³è”ID
- `related_type`: å…³è”ç±»å‹
- `create_time`: åˆ›å»ºæ—¶é—´
- `read_time`: é˜…è¯»æ—¶é—´

#### 11. æ’ç­ç»Ÿè®¡è¡¨ (duty_statistics)
è®°å½•æ’ç­ç»Ÿè®¡æ•°æ®ã€‚

**å­—æ®µè¯´æ˜:**
- `dept_id`: éƒ¨é—¨ID
- `dept_name`: éƒ¨é—¨åç§°
- `total_schedules`: æ€»æ’ç­æ•°
- `total_assignments`: æ€»å€¼ç­å®‰æ’æ•°
- `total_records`: æ€»å€¼ç­è®°å½•æ•°
- `avg_daily_hours`: æ—¥å‡æ—¶é•¿
- `total_overtime_hours`: æ€»åŠ ç­æ—¶é•¿
- `total_leave_requests`: æ€»è¯·å‡ç”³è¯·æ•°
- `stat_date`: ç»Ÿè®¡æ—¥æœŸ
- `create_time`: åˆ›å»ºæ—¶é—´

### ä¿®æ”¹çš„è¡¨

#### duty_assignment è¡¨
æ–°å¢å­—æ®µ:
- `shift_config_id`: ç­æ¬¡é…ç½®ID
- `version_id`: æ’ç­ç‰ˆæœ¬ID
- `is_overtime`: æ˜¯å¦åŠ ç­

#### duty_record è¡¨
æ–°å¢å­—æ®µ:
- `substitute_employee_id`: æ›¿è¡¥äººå‘˜ID
- `substitute_type`: æ›¿è¡¥ç±»å‹

## ğŸ”§ åç«¯å®ç°

### å®ä½“ç±»ï¼ˆEntityï¼‰- 13ä¸ª

1. **DutySchedule** - å€¼ç­è¡¨å®ä½“
2. **DutyScheduleEmployee** - å€¼ç­è¡¨äººå‘˜å…³è”å®ä½“
3. **DutyAssignment** - å€¼ç­å®‰æ’å®ä½“
4. **DutyRecord** - å€¼ç­è®°å½•å®ä½“
5. **DutyShiftConfig** - ç­æ¬¡é…ç½®å®ä½“
6. **DutyScheduleRule** - æ’ç­è§„åˆ™å®ä½“
7. **EmployeeAvailableTime** - äººå‘˜å¯æ’ç­æ—¶æ®µå®ä½“
8. **LeaveRequest** - è¯·å‡ç”³è¯·å®ä½“
9. **ApprovalRecord** - å®¡æ‰¹è®°å½•å®ä½“
10. **SwapRequest** - è°ƒç­è®°å½•å®ä½“
11. **ScheduleVersion** - æ’ç­ç‰ˆæœ¬å®ä½“
12. **Notification** - æ¶ˆæ¯é€šçŸ¥å®ä½“
13. **DutyStatistics** - æ’ç­ç»Ÿè®¡å®ä½“

### Mapperæ¥å£ - 13ä¸ª

æ‰€æœ‰å®ä½“ç±»éƒ½å¯¹åº”åˆ›å»ºäº†Mapperæ¥å£ï¼Œç»§æ‰¿è‡ªBaseMapperã€‚

### Serviceå±‚

#### æ ¸å¿ƒServiceï¼ˆ13ä¸ªï¼‰

1. **DutyScheduleService** - å€¼ç­è¡¨ç®¡ç†æœåŠ¡
2. **DutyScheduleEmployeeService** - å€¼ç­è¡¨äººå‘˜å…³è”æœåŠ¡
3. **DutyAssignmentService** - å€¼ç­å®‰æ’æœåŠ¡
4. **DutyRecordService** - å€¼ç­è®°å½•æœåŠ¡
5. **DutyShiftConfigService** - ç­æ¬¡é…ç½®æœåŠ¡
6. **DutyScheduleRuleService** - æ’ç­è§„åˆ™æœåŠ¡
7. **EmployeeAvailableTimeService** - äººå‘˜å¯æ’ç­æ—¶æ®µæœåŠ¡
8. **LeaveRequestService** - è¯·å‡ç”³è¯·æœåŠ¡
9. **ApprovalRecordService** - å®¡æ‰¹è®°å½•æœåŠ¡
10. **SwapRequestService** - è°ƒç­ç”³è¯·æœåŠ¡
11. **ScheduleVersionService** - æ’ç­ç‰ˆæœ¬æœåŠ¡
12. **NotificationService** - æ¶ˆæ¯é€šçŸ¥æœåŠ¡
13. **DutyStatisticsService** - æ’ç­ç»Ÿè®¡æœåŠ¡

#### æ‰©å±•Serviceï¼ˆ3ä¸ªï¼‰

1. **AutoScheduleService** - è‡ªåŠ¨æ’ç­æœåŠ¡
   - `generateAutoSchedule()` - ç”Ÿæˆè‡ªåŠ¨æ’ç­ï¼ˆè½®æ¢æ’ç­ï¼‰
   - `generateAutoScheduleByWorkHours()` - ç”Ÿæˆè‡ªåŠ¨æ’ç­ï¼ˆæŒ‰å·¥æ—¶å‡è¡¡æ’ç­ï¼‰
   - `checkConflict()` - æ£€æµ‹æ’ç­å†²çª
   - `getAvailableEmployees()` - è·å–å¯ç”¨å‘˜å·¥
   - `getEmployeeMonthlyWorkHours()` - è·å–å‘˜å·¥æœ¬æœˆå·¥æ—¶

2. **DutyStatisticsService** - æ’ç­ç»Ÿè®¡æœåŠ¡
   - `getOverallStatistics()` - è·å–æ€»ä½“ç»Ÿè®¡
   - `getDeptStatistics()` - è·å–éƒ¨é—¨ç»Ÿè®¡
   - `getShiftDistribution()` - è·å–ç­æ¬¡åˆ†å¸ƒ
   - `getMonthlyTrend()` - è·å–æœˆåº¦è¶‹åŠ¿

3. **ExportService** - æŠ¥è¡¨å¯¼å‡ºæœåŠ¡
   - `exportDutyAssignments()` - å¯¼å‡ºå€¼ç­å®‰æ’
   - `exportDutyRecords()` - å¯¼å‡ºå€¼ç­è®°å½•
   - `exportLeaveRequests()` - å¯¼å‡ºè¯·å‡ç”³è¯·

### Controllerå±‚ - 12ä¸ª

1. **DutyScheduleController** - å€¼ç­è¡¨ç®¡ç†æ§åˆ¶å™¨
2. **DutyAssignmentController** - å€¼ç­å®‰æ’æ§åˆ¶å™¨
3. **DutyRecordController** - å€¼ç­è®°å½•æ§åˆ¶å™¨
4. **DutyShiftConfigController** - ç­æ¬¡é…ç½®æ§åˆ¶å™¨
5. **DutyScheduleModeController** - æ’ç­æ¨¡å¼æ§åˆ¶å™¨
6. **LeaveRequestController** - è¯·å‡ç”³è¯·æ§åˆ¶å™¨
7. **LeaveApprovalController** - è¯·å‡å®¡æ‰¹æ§åˆ¶å™¨
8. **SwapRequestController** - è°ƒç­ç®¡ç†æ§åˆ¶å™¨
9. **DutyStatisticsController** - æ’ç­ç»Ÿè®¡æ§åˆ¶å™¨
10. **AutoScheduleController** - è‡ªåŠ¨æ’ç­æ§åˆ¶å™¨
11. **ExportController** - æŠ¥è¡¨å¯¼å‡ºæ§åˆ¶å™¨
12. **NotificationController** - æ¶ˆæ¯é€šçŸ¥æ§åˆ¶å™¨

### å·¥å…·ç±»

1. **ExcelExportUtil** - Excelå¯¼å‡ºå·¥å…·ç±»
   - `exportDutyAssignments()` - å¯¼å‡ºå€¼ç­å®‰æ’
   - `exportDutyRecords()` - å¯¼å‡ºå€¼ç­è®°å½•
   - `exportLeaveRequests()` - å¯¼å‡ºè¯·å‡ç”³è¯·
   - è‡ªåŠ¨åˆ—å®½è°ƒæ•´
   - æ ·å¼è®¾ç½®

## ğŸ¨ å‰ç«¯å®ç°

### é¡µé¢ç»„ä»¶ï¼ˆVueï¼‰- 9ä¸ª

**å€¼ç­ç®¡ç†é¡µé¢ï¼ˆ9ä¸ªï¼‰**
1. **DutySchedule.vue** - å€¼ç­è¡¨ç®¡ç†
2. **DutyAssignment.vue** - å€¼ç­å®‰æ’
3. **DutyRecord.vue** - å€¼ç­è®°å½•
4. **ShiftConfig.vue** - ç­æ¬¡é…ç½®
5. **LeaveRequest.vue** - è¯·å‡ç”³è¯·
6. **LeaveApproval.vue** - è¯·å‡å®¡æ‰¹
7. **SwapRequest.vue** - è°ƒç­ç®¡ç†
8. **Statistics.vue** - æ’ç­ç»Ÿè®¡
9. **ScheduleMode.vue** - æ’ç­æ¨¡å¼ç®¡ç†

**å…¶ä»–é¡µé¢ï¼ˆ1ä¸ªï¼‰**
1. **DutyLayout.vue** - å€¼ç­ç®¡ç†å¸ƒå±€

### APIå°è£…ï¼ˆJavaScriptï¼‰- 9ä¸ª

1. **schedule.js** - å€¼ç­è¡¨ç®¡ç†API
2. **assignment.js** - å€¼ç­å®‰æ’API
3. **record.js** - å€¼ç­è®°å½•API
4. **shiftConfig.js** - ç­æ¬¡é…ç½®API
5. **leaveRequest.js** - è¯·å‡ç”³è¯·API
6. **leaveApproval.js** - è¯·å‡å®¡æ‰¹API
7. **swapRequest.js** - è°ƒç­ç®¡ç†API
8. **statistics.js** - æ’ç­ç»Ÿè®¡API
9. **notification.js** - æ¶ˆæ¯é€šçŸ¥API

### è·¯ç”±é…ç½®

**å€¼ç­ç®¡ç†å­è·¯ç”±ï¼ˆ9ä¸ªï¼‰**
1. `/duty/schedule` - å€¼ç­è¡¨ç®¡ç†
2. `/duty/assignment` - å€¼ç­å®‰æ’
3. `/duty/record` - å€¼ç­è®°å½•
4. `/duty/shift-config` - ç­æ¬¡é…ç½®
5. `/duty/leave-request` - è¯·å‡ç”³è¯·
6. `/duty/leave-approval` - è¯·å‡å®¡æ‰¹
7. `/duty/swap-request` - è°ƒç­ç®¡ç†
8. `/duty/statistics` - æ’ç­ç»Ÿè®¡
9. `/duty/schedule-mode` - æ’ç­æ¨¡å¼ç®¡ç†

### èœå•æ³¨å†Œ

**å€¼ç­ç®¡ç†èœå•ï¼ˆ9ä¸ªï¼‰**
1. å€¼ç­ç®¡ç†
2. å€¼ç­è¡¨ç®¡ç†
3. å€¼ç­å®‰æ’
4. å€¼ç­è®°å½•
5. ç­æ¬¡é…ç½®
6. è¯·å‡ç”³è¯·
7. è¯·å‡å®¡æ‰¹
8. è°ƒç­ç®¡ç†
9. æ’ç­ç»Ÿè®¡
10. æ’ç­æ¨¡å¼ç®¡ç†

**èœå•æƒé™åˆ†é…**
- è¶…çº§ç®¡ç†å‘˜ï¼ˆROLE_ADMINï¼‰ï¼šæ‹¥æœ‰æ‰€æœ‰èœå•æƒé™
- å€¼ç­é•¿ï¼šæ‹¥æœ‰æ’ç­æ“ä½œæƒé™
- æ™®é€šç”¨æˆ·ï¼šæ‹¥æœ‰æŸ¥çœ‹æƒé™

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½å®ç°

### 1. è‡ªåŠ¨æ’ç­ç®—æ³•

**å®ç°ä½ç½®**: [AutoScheduleServiceImpl.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/service/impl/AutoScheduleServiceImpl.java)

**æ ¸å¿ƒé€»è¾‘**:
- è´Ÿè½½å‡è¡¡ï¼šæ ¹æ®å‘˜å·¥å½“å‰å·¥ä½œæ—¶é•¿å’Œç­æ¬¡æ•°é‡è¿›è¡Œå‡è¡¡åˆ†é…
- å¯ç”¨æ€§æ£€æŸ¥ï¼šæ£€æŸ¥å‘˜å·¥çš„å¯æ’ç­æ—¶æ®µ
- å†²çªæ£€æµ‹ï¼šé¿å…é‡å¤æ’ç­
- è§„åˆ™é™åˆ¶ï¼š
  - æ¯æ—¥æœ€å¤§ç­æ¬¡æ•°é™åˆ¶
  - æ¯å‘¨æœ€å¤§å·¥ä½œæ—¶é•¿é™åˆ¶
  - æ¯æœˆæœ€å¤§å·¥ä½œæ—¶é•¿é™åˆ¶
- ä¼˜å…ˆçº§æ’åºï¼š
  - å·¥ä½œæ—¶é•¿å°‘çš„å‘˜å·¥ä¼˜å…ˆ
  - ç­æ¬¡æ•°é‡å°‘çš„å‘˜å·¥ä¼˜å…ˆ
  - åŒéƒ¨é—¨å‘˜å·¥ä¼˜å…ˆ

**APIæ¥å£**:
- `POST /duty/auto-schedule/generate` - ç”Ÿæˆè‡ªåŠ¨æ’ç­ï¼ˆè½®æ¢æ’ç­ï¼‰
- `POST /duty/auto-schedule/generate-by-work-hours` - ç”Ÿæˆè‡ªåŠ¨æ’ç­ï¼ˆæŒ‰å·¥æ—¶å‡è¡¡æ’ç­ï¼‰
- `POST /duty/auto-schedule/generate-by-mode` - æ ¹æ®æ’ç­æ¨¡å¼ç”Ÿæˆè‡ªåŠ¨æ’ç­
- `GET /duty/auto-schedule/check-conflict` - æ£€æµ‹æ’ç­å†²çª
- `GET /duty/auto-schedule/available-employees` - è·å–å¯ç”¨å‘˜å·¥
- `GET /duty/auto-schedule/employee-monthly-work-hours` - è·å–å‘˜å·¥æœ¬æœˆå·¥æ—¶

### 1.1 æ’ç­æ¨¡å¼ç®¡ç†

**å®ç°ä½ç½®**:
- [DutyScheduleMode.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/entity/DutyScheduleMode.java)
- [DutyScheduleModeController.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/controller/DutyScheduleModeController.java)
- [DutyScheduleModeServiceImpl.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/service/impl/DutyScheduleModeServiceImpl.java)
- [DutyHoliday.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/entity/DutyHoliday.java)
- [ScheduleAlgorithm.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/service/algorithm/ScheduleAlgorithm.java)
- [FourDayRotationAlgorithm.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/service/algorithm/impl/FourDayRotationAlgorithm.java)
- [ThreeDayRotationAlgorithm.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/service/algorithm/impl/ThreeDayRotationAlgorithm.java)
- [DaytimeAllNightShiftRotationAlgorithm.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/service/algorithm/impl/DaytimeAllNightShiftRotationAlgorithm.java)
- [ScheduleMode.vue](file:///d:/workspace/lasudev/hyper-duty/frontend/src/views/duty/ScheduleMode.vue)
- [ScheduleModeEdit.vue](file:///d:/workspace/lasudev/hyper-duty/frontend/src/views/duty/components/ScheduleModeEdit.vue)

**ä¿®å¤è®°å½•**:
1. **é—®é¢˜**: æ’ç­æ¨¡å¼ç®¡ç†ä¸­äººæ•°è¾“å…¥å­—æ®µåŠ è½½å¤±è´¥ï¼Œæ˜¾ç¤º"--"è€Œä¸æ˜¯é»˜è®¤å€¼1
   **åŸå› **: æ•°æ®ç±»å‹è½¬æ¢é—®é¢˜ï¼Œcountå­—æ®µåœ¨è§£æå’Œæ›´æ–°è¿‡ç¨‹ä¸­æ²¡æœ‰æ­£ç¡®ä¿æŒä¸ºæ•°å­—ç±»å‹
   **è§£å†³æ–¹æ¡ˆ**:
   - åœ¨è§£æconfigJsonæ—¶ï¼Œç¡®ä¿countå­—æ®µè¢«è½¬æ¢ä¸ºæ•°å­—ç±»å‹
   - åœ¨watchç›‘å¬å™¨ä¸­ï¼Œæ·»åŠ ç±»å‹æ£€æŸ¥å’Œè½¬æ¢
   - åœ¨ç”ŸæˆconfigJsonæ—¶ï¼Œç¡®ä¿countå­—æ®µä¿æŒä¸ºæ•°å­—ç±»å‹
   - ç¡®ä¿æ–°æ·»åŠ çš„ç­æ¬¡å’Œå¤©æ•°çš„countå­—æ®µä¹Ÿæ­£ç¡®åˆå§‹åŒ–ä¸ºæ•°å­—ç±»å‹

2. **é—®é¢˜**: çŠ¶æ€è®¾ç½®æ²¡ç”Ÿæ•ˆï¼Œæ‰€æœ‰æ’ç­æ¨¡å¼çš„çŠ¶æ€å¼€å…³éƒ½æ˜¯å…³é—­çš„
   **åŸå› **: æ•°æ®ç±»å‹ä¸åŒ¹é…ï¼Œåç«¯è¿”å›çš„statusæ˜¯æ•°å­—ç±»å‹ï¼Œå‰ç«¯el-switchç»„ä»¶ç»‘å®šçš„æ˜¯å­—ç¬¦ä¸²ç±»å‹
   **è§£å†³æ–¹æ¡ˆ**:
   - åœ¨æ•°æ®è·å–æ—¶ï¼Œç¡®ä¿statuså­—æ®µä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼š`status: item.status.toString()`
   - åœ¨çŠ¶æ€å˜æ›´å¤„ç†æ—¶ï¼Œç¡®ä¿statusä¸ºæ•°å­—ç±»å‹å†å‘é€åˆ°åç«¯ï¼š`status: Number(row.status)`
   - ä¼˜åŒ–çŠ¶æ€æ¢å¤é€»è¾‘ï¼Œä½¿ç”¨ä¿å­˜çš„åŸå§‹çŠ¶æ€è¿›è¡Œæ¢å¤

3. **é—®é¢˜**: ç­æ¬¡ä¸‹æ‹‰èœå•æ˜¾ç¤ºæ•°å­—è€Œä¸æ˜¯ä¸­æ–‡åç§°
   **åŸå› **: ç±»å‹ä¸åŒ¹é…ï¼ŒshiftIdä¸enabledShiftsä¸­çš„idç±»å‹ä¸ä¸€è‡´
   **è§£å†³æ–¹æ¡ˆ**:
   - å°†el-selectç»„ä»¶çš„:valueå±æ€§ç»‘å®šä¿®æ”¹ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼š`:value="shiftConfig.id.toString()"`
   - ä¿®æ”¹ç­æ¬¡æŸ¥æ‰¾é€»è¾‘ï¼Œä½¿ç”¨ç±»å‹æ— å…³çš„æ¯”è¾ƒï¼š`s.id.toString() === shift.shiftId.toString()`
   - ç¡®ä¿ç­æ¬¡é€‰æ‹©å˜åŒ–æ—¶ï¼ŒshiftNameæ­£ç¡®æ›´æ–°

4. **é—®é¢˜**: äººæ•°è®¾ç½®æœ€å°å€¼ä¸º1ï¼Œæ— æ³•è®¾ç½®0äºº
   **åŸå› **: ä¸šåŠ¡éœ€æ±‚å˜æ›´ï¼Œéœ€è¦æ”¯æŒä¸éœ€è¦æ’ç­çš„ç­æ¬¡è®¾ç½®ä¸º0äºº
   **è§£å†³æ–¹æ¡ˆ**:
   - å°†äººæ•°è¾“å…¥æœ€å°å€¼ä»1æ”¹ä¸º0ï¼š`:min="0"`
   - æ›´æ–°ç›¸å…³é»˜è®¤å€¼å’Œæ•°æ®å¤„ç†é€»è¾‘
   - æ·»åŠ ç­æ¬¡å’Œäººæ•°çš„å¯¹åº”å…³ç³»éªŒè¯

5. **é—®é¢˜**: ç­æ¬¡é…ç½®ä¸­é€‰æ‹©äº†æ˜¯å¦è·¨å¤©ï¼Œå†æ¬¡æ‰“å¼€ç¼–è¾‘å¯¹è¯æ¡†æ—¶ä¸æ˜¾ç¤ºå‹¾é€‰çŠ¶æ€
   **åŸå› **: åç«¯isCrossDayå­—æ®µæ˜¯Integerç±»å‹(1/0)ï¼Œå‰ç«¯el-switchç»„ä»¶æœŸæœ›å¸ƒå°”ç±»å‹(true/false)ï¼Œç±»å‹ä¸åŒ¹é…å¯¼è‡´æ˜¾ç¤ºå¼‚å¸¸
   **è§£å†³æ–¹æ¡ˆ**:
   - åœ¨openEditDialogå‡½æ•°ä¸­ï¼Œå°†åç«¯è¿”å›çš„isCrossDayå€¼(1/0)è½¬æ¢ä¸ºå¸ƒå°”ç±»å‹(true/false)åå†èµ‹å€¼ç»™è¡¨å•
   - ä¿®å¤æ–‡ä»¶ï¼šfrontend/src/views/duty/ShiftConfig.vue

**æ ¸å¿ƒé€»è¾‘**:
- æ’ç­æ¨¡å¼ç®¡ç†ï¼šæ”¯æŒæ–°å¢ã€ç¼–è¾‘ã€æŸ¥çœ‹ã€åˆ é™¤æ’ç­æ¨¡å¼
- æ’ç­æ¨¡å¼ç¼–æ’ç•Œé¢ï¼šæ¨ªå¤´æ˜¯å¤©ï¼Œå¯ä»¥æ‹“å±•ç¬¬ä¸€å¤©ã€ç¬¬äºŒå¤©ã€ç¬¬ä¸‰å¤©ï¼ŒæŒ‰ç­ç»„é…ç½®æ’ç­ï¼Œæ¯ä¸ªç­ç»„åŒ…å«ä¸€è¡Œç­æ¬¡é€‰æ‹©å’Œä¸€è¡Œäººæ•°è®¾ç½®
- ç­ç»„ç®¡ç†ï¼šæ”¯æŒæ·»åŠ å¤šä¸ªç­ç»„ï¼Œå®ç°å¤šç­ç»„è½®å€¼ï¼Œæ¯ä¸ªç­ç»„å¯ä»¥ç‹¬ç«‹é…ç½®æ¯å¤©çš„ç­æ¬¡å’Œäººæ•°
- ç­æ¬¡å’Œäººæ•°å¯¹åº”å…³ç³»ï¼šå¦‚æœè®¾ç½®äº†äººæ•°ä½†æ²¡æœ‰é€‰æ‹©ç­æ¬¡ï¼Œè‡ªåŠ¨æ¸…ç©ºäººæ•°ï¼›å¦‚æœé€‰æ‹©äº†ç­æ¬¡ä½†æ²¡æœ‰è®¾ç½®äººæ•°ï¼Œè‡ªåŠ¨è®¾ç½®ä¸º1
- ç®—æ³•æ¥å£è®¾è®¡ï¼šé‡‡ç”¨ç­–ç•¥æ¨¡å¼ï¼Œæ”¯æŒçµæ´»æ‰©å±•
- èŠ‚å‡æ—¥å¤„ç†ï¼šè‡ªåŠ¨è¯†åˆ«èŠ‚å‡æ—¥ï¼Œæ”¯æŒæ‰¹é‡æ’ç­æ—¶è·³è¿‡èŠ‚å‡æ—¥
- é…ç½®å‚æ•°åŒ–ï¼šæ”¯æŒæŒ‰æ¨¡å¼é…ç½®ä¸åŒçš„å‚æ•°

**æ”¯æŒçš„æ’ç­æ¨¡å¼**:
1. **å››å¤©ä¸€è½®æ’ç­**
   - è§„åˆ™ï¼šç¬¬ä¸€å¤©ç™½ç­ï¼Œç¬¬äºŒå¤©å¤œç­ï¼Œç¬¬ä¸‰å¤©ä¼‘æ¯ï¼Œç¬¬å››å¤©ä¼‘æ¯ï¼Œå‘¨æœŸæ€§è½®æ¢
   - å‚æ•°ï¼šæ¯ç»„äººæ•°

2. **ä¸‰å¤©ä¸€è½®æ’ç­**
   - è§„åˆ™ï¼šç¬¬ä¸€å¤©ç™½ç­+å¤œç­ï¼Œç¬¬äºŒå¤©ä¼‘æ¯ï¼Œç¬¬ä¸‰å¤©ä¼‘æ¯ï¼Œå‘¨æœŸæ€§è½®æ¢
   - å‚æ•°ï¼šæ¯ç»„äººæ•°

3. **ç™½ç­å…¨å‘˜å¤œç­è½®å€¼**
   - è§„åˆ™ï¼šç™½å¤©ç»„å†…æ‰€æœ‰äººéƒ½å€¼ç­ï¼Œæ™šä¸ŠæŒ‰æŒ‡å®šäººæ•°è½®å€¼
   - å‚æ•°ï¼šå¤œç­å€¼ç­äººæ•°

4. **è‡ªå®šä¹‰æ’ç­æ¨¡å¼**
   - è§„åˆ™ï¼šç”¨æˆ·å¯è‡ªç”±é…ç½®æ¯å¤©çš„ç­æ¬¡å’Œäººæ•°
   - å‚æ•°ï¼šå¤©æ•°ã€ç­æ¬¡ã€äººæ•°ç­‰

**æ•°æ®åº“è¡¨ç»“æ„**:
- `duty_schedule_mode`ï¼šå­˜å‚¨æ’ç­æ¨¡å¼ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ¨¡å¼åç§°ã€ç¼–ç ã€ç±»å‹ã€ç®—æ³•ç±»åã€é…ç½®å‚æ•°ç­‰
- `duty_holiday`ï¼šå­˜å‚¨èŠ‚å‡æ—¥ä¿¡æ¯ï¼ŒåŒ…æ‹¬èŠ‚å‡æ—¥åç§°ã€æ—¥æœŸã€æ˜¯å¦è°ƒä¼‘ç­‰

**APIæ¥å£**:
- `POST /duty/auto-schedule/generate-by-mode` - æ ¹æ®æ’ç­æ¨¡å¼ç”Ÿæˆè‡ªåŠ¨æ’ç­
- `GET /duty/schedule-mode/list` - è·å–å¯ç”¨çš„æ’ç­æ¨¡å¼åˆ—è¡¨
- `GET /duty/schedule-mode/getById` - æ ¹æ®IDè·å–æ’ç­æ¨¡å¼
- `POST /duty/schedule-mode` - æ–°å¢æ’ç­æ¨¡å¼
- `PUT /duty/schedule-mode` - æ›´æ–°æ’ç­æ¨¡å¼
- `DELETE /duty/schedule-mode/{id}` - åˆ é™¤æ’ç­æ¨¡å¼
- `GET /duty/holiday/check` - æ£€æŸ¥æŒ‡å®šæ—¥æœŸæ˜¯å¦ä¸ºèŠ‚å‡æ—¥

**å‰ç«¯åŠŸèƒ½**:
- **æ’ç­æ¨¡å¼ç®¡ç†é¡µé¢**ï¼šæ”¯æŒåˆ—è¡¨å±•ç¤ºã€åˆ†é¡µã€æ–°å¢ã€ç¼–è¾‘ã€åˆ é™¤ã€å¯ç”¨/ç¦ç”¨ç­‰åŠŸèƒ½
- **æ’ç­æ¨¡å¼ç¼–è¾‘ç•Œé¢**ï¼š
  - åŸºæœ¬ä¿¡æ¯é…ç½®ï¼šæ”¯æŒé…ç½®åç§°ã€ç¼–ç ã€ç±»å‹ã€æè¿°ã€æ’åºã€çŠ¶æ€ç­‰
  - å¤©æ•°ç®¡ç†ï¼šæ”¯æŒæ·»åŠ /åˆ é™¤å¤©æ•°ï¼Œå¯æ‹“å±•ç¬¬ä¸€å¤©ã€ç¬¬äºŒå¤©ã€ç¬¬ä¸‰å¤©ç­‰
  - ç­ç»„ç®¡ç†ï¼šæ”¯æŒæ·»åŠ /åˆ é™¤ç­ç»„ï¼Œæ¯ä¸ªç­ç»„åŒ…å«ä¸€è¡Œç­æ¬¡é€‰æ‹©å’Œä¸€è¡Œäººæ•°è®¾ç½®
  - ç­æ¬¡é€‰æ‹©ï¼šä»å¯ç”¨çš„ç­æ¬¡é…ç½®ä¸­é€‰æ‹©ç­æ¬¡ï¼Œæ˜¾ç¤ºä¸­æ–‡åç§°
  - äººæ•°è®¾ç½®ï¼šä¸ºæ¯ä¸ªç­æ¬¡è®¾ç½®äººæ•°ï¼Œæ”¯æŒ0äººï¼ˆè¡¨ç¤ºä¼‘æ¯ï¼‰
  - ç­æ¬¡å’Œäººæ•°å¯¹åº”å…³ç³»ï¼šè‡ªåŠ¨éªŒè¯å’Œè°ƒæ•´ç­æ¬¡ä¸äººæ•°çš„å¯¹åº”å…³ç³»
- **æ‰¹é‡æ’ç­åŠŸèƒ½**ï¼šæ”¯æŒä»ä¸‹æ‹‰èœå•é€‰æ‹©æ’ç­æ¨¡å¼è¿›è¡Œæ‰¹é‡æ’ç­
  - **å®ç°åŸç†**ï¼š
    1. è§£ææ’ç­æ¨¡å¼é…ç½®ï¼Œè·å–å‘¨æœŸå¤©æ•°ã€ç»„åˆ«å’Œç­æ¬¡ä¿¡æ¯
    2. æ ¹æ®å‘˜å·¥æ•°é‡è¿›è¡Œåˆ†ç»„
    3. æŒ‰ç…§æ’ç­æ¨¡å¼çš„å‘¨æœŸè¿›è¡Œå¾ªç¯æ’ç­
    4. ç¡®ä¿æ¯ä¸ªç­æ¬¡çš„äººæ•°æ­£ç¡®ï¼Œä¸è¶…è¿‡å®é™…å¯ç”¨å‘˜å·¥æ•°
  - **ä½¿ç”¨æ–¹å¼**ï¼š
    1. é€‰æ‹©æ—¥æœŸèŒƒå›´
    2. é€‰æ‹©"æ’ç­æ¨¡å¼"é€‰é¡¹
    3. ä»ä¸‹æ‹‰èœå•é€‰æ‹©é¢„è®¾çš„æ’ç­æ¨¡å¼
    4. é€‰æ‹©å‚ä¸æ’ç­çš„å‘˜å·¥
    5. ç‚¹å‡»"ç¡®å®š"ç”Ÿæˆæ’ç­

**é…ç½®å‚æ•°JSONç»“æ„**:
```json
{
  "teams": [
    {
      "shifts": [
        {
          "shiftId": "1",
          "shiftName": "æ—©ç­",
          "count": 2
        },
        {
          "shiftId": "2",
          "shiftName": "æ™šç­",
          "count": 1
        },
        {
          "shiftId": "3",
          "shiftName": "å¤œç­",
          "count": 1
        }
      ]
    },
    {
      "shifts": [
        {
          "shiftId": "2",
          "shiftName": "æ™šç­",
          "count": 1
        },
        {
          "shiftId": "3",
          "shiftName": "å¤œç­",
          "count": 1
        },
        {
          "shiftId": "1",
          "shiftName": "æ—©ç­",
          "count": 2
        }
      ]
    }
  ],
  "days": [
    {
      "dayIndex": 1,
      "name": "ç¬¬ä¸€å¤©",
      "shifts": []
    },
    {
      "dayIndex": 2,
      "name": "ç¬¬äºŒå¤©",
      "shifts": []
    },
    {
      "dayIndex": 3,
      "name": "ç¬¬ä¸‰å¤©",
      "shifts": []
    }
  ]
}
```

**å­—æ®µè¯´æ˜**:
- `teams`: ç­ç»„é…ç½®æ•°ç»„ï¼Œæ¯ä¸ªå¯¹è±¡ä»£è¡¨ä¸€ä¸ªç­ç»„
  - `shifts`: è¯¥ç­ç»„å¯¹åº”æ¯å¤©çš„ç­æ¬¡é…ç½®æ•°ç»„
    - `shiftId`: ç­æ¬¡IDï¼ˆå­—ç¬¦ä¸²ç±»å‹ï¼‰
    - `shiftName`: ç­æ¬¡åç§°ï¼ˆä¸­æ–‡ï¼‰
    - `count`: äººæ•°ï¼ˆæ•°å­—ç±»å‹ï¼Œ0è¡¨ç¤ºä¼‘æ¯ï¼‰
- `days`: å¤©æ•°é…ç½®æ•°ç»„ï¼Œæ¯ä¸ªå¯¹è±¡ä»£è¡¨ä¸€å¤©
  - `dayIndex`: å¤©ç´¢å¼•
  - `name`: å¤©åç§°
  - `shifts`: ä¿ç•™å­—æ®µï¼Œç°åœ¨ä»teamsä¸­è·å–ç­æ¬¡é…ç½®

### 2. å†²çªæ£€æµ‹é€»è¾‘

**å®ç°ä½ç½®**: [AutoScheduleServiceImpl.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/service/impl/AutoScheduleServiceImpl.java)

**æ£€æµ‹ç±»å‹**:
- é‡å¤æ’ç­æ£€æµ‹ï¼šåŒä¸€å‘˜å·¥åŒä¸€å¤©åŒä¸€ç­æ¬¡é‡å¤æ’ç­
- è¶…è´Ÿè½½æ£€æµ‹ï¼šè¶…è¿‡æ¯æ—¥æœ€å¤§ç­æ¬¡æ•°
- è¶…æ—¶é•¿æ£€æµ‹ï¼šè¶…è¿‡æ¯å‘¨/æ¯æœˆæœ€å¤§å·¥ä½œæ—¶é•¿
- å¯ç”¨æ€§æ£€æµ‹ï¼šä¸åœ¨å¯æ’ç­æ—¶æ®µå†…

### 3. å€¼ç­é•¿æƒé™æ§åˆ¶

**å®ç°ä½ç½®**:
- [DutyScheduleController.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/controller/DutyScheduleController.java)
- [DutyAssignment.vue](file:///d:/workspace/lasudev/hyper-duty/frontend/src/views/duty/DutyAssignment.vue)

**æ ¸å¿ƒé€»è¾‘**:
- å€¼ç­é•¿è®¾ç½®ï¼šå€¼ç­è¡¨å¯ä»¥è®¾ç½®å¤šä¸ªå€¼ç­é•¿
- æƒé™éªŒè¯ï¼šåªæœ‰å€¼ç­é•¿æ‰èƒ½è¿›è¡Œæ’ç­æ“ä½œ
- å‰ç«¯æ§åˆ¶ï¼šæ ¹æ®å½“å‰ç”¨æˆ·æ˜¯å¦æ˜¯å€¼ç­é•¿ï¼Œæ§åˆ¶æŒ‰é’®å’Œæ“ä½œçš„æ˜¾ç¤º
- åç«¯éªŒè¯ï¼šç™»å½•æ¥å£è¿”å› employeeIdï¼Œç”¨äºæƒé™åˆ¤æ–­

**åŠŸèƒ½ç‰¹æ€§**:
- å€¼ç­é•¿è®¾ç½®ï¼šæ”¯æŒä¸ºå€¼ç­è¡¨è®¾ç½®å¤šä¸ªå€¼ç­é•¿
- æ‰¹é‡æ’ç­ï¼šåªæœ‰å€¼ç­é•¿æ‰èƒ½ä½¿ç”¨æ‰¹é‡æ’ç­åŠŸèƒ½
- æ‰‹åŠ¨æ’ç­ï¼šåªæœ‰å€¼ç­é•¿æ‰èƒ½ç‚¹å‡»æ—¥å†ä¸Šçš„+å·è¿›è¡Œæ’ç­
- ç¼–è¾‘æ’ç­ï¼šåªæœ‰å€¼ç­é•¿æ‰èƒ½ç¼–è¾‘æ’ç­è®°å½•

### 4. èŠ‚å‡æ—¥é›†æˆåˆ°å€¼ç­å®‰æ’æ—¥å†

**å®ç°ä½ç½®**:
- [DutyHolidayController.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/controller/DutyHolidayController.java)
- [holiday.js](file:///d:/workspace/lasudev/hyper-duty/frontend/src/api/duty/holiday.js)
- [DutyAssignment.vue](file:///d:/workspace/lasudev/hyper-duty/frontend/src/views/duty/DutyAssignment.vue)

**æ ¸å¿ƒé€»è¾‘**:
- èŠ‚å‡æ—¥APIï¼šæä¾›è·å–æŒ‡å®šæ—¥æœŸèŒƒå›´å†…èŠ‚å‡æ—¥ä¿¡æ¯çš„æ¥å£
- æ—¥å†é›†æˆï¼šåœ¨å€¼ç­å®‰æ’æ—¥å†ä¸­æ˜¾ç¤ºèŠ‚å‡æ—¥ä¿¡æ¯
- åŠ¨æ€æ›´æ–°ï¼šå½“åˆ‡æ¢æœˆä»½æ—¶ï¼Œè‡ªåŠ¨è·å–å¯¹åº”æœˆä»½çš„èŠ‚å‡æ—¥ä¿¡æ¯
- è§†è§‰åŒºåˆ†ï¼šé€šè¿‡ä¸åŒçš„èƒŒæ™¯è‰²åŒºåˆ†æ™®é€šèŠ‚å‡æ—¥å’Œè°ƒä¼‘å·¥ä½œæ—¥

**åŠŸèƒ½ç‰¹æ€§**:
- èŠ‚å‡æ—¥æ˜¾ç¤ºï¼šåœ¨æ—¥å†ä¸­æ˜¾ç¤ºèŠ‚å‡æ—¥åç§°
- è°ƒä¼‘è¯†åˆ«ï¼šåŒºåˆ†æ™®é€šèŠ‚å‡æ—¥å’Œè°ƒä¼‘å·¥ä½œæ—¥
- é¢œè‰²ç¼–ç ï¼šä½¿ç”¨çº¢è‰²èƒŒæ™¯è¡¨ç¤ºæ™®é€šèŠ‚å‡æ—¥ï¼Œç»¿è‰²èƒŒæ™¯è¡¨ç¤ºè°ƒä¼‘å·¥ä½œæ—¥
- æ— æ„ŸçŸ¥é›†æˆï¼šèŠ‚å‡æ—¥è·å–å¤±è´¥ä¸å½±å“ä¸»åŠŸèƒ½ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§
- æ‰¹é‡æ¸…ç©ºï¼šåªæœ‰å€¼ç­é•¿æ‰èƒ½æ‰¹é‡æ¸…ç©ºæ—¥æœŸèŒƒå›´çš„æ’ç­

**APIæ¥å£**:
- `GET /duty/schedule/{id}/employees` - è·å–å€¼ç­äººå‘˜åˆ—è¡¨
- `GET /duty/schedule/{id}/leaders` - è·å–å€¼ç­é•¿åˆ—è¡¨
- `PUT /duty/schedule/{id}/employees` - æ›´æ–°å€¼ç­äººå‘˜
- `PUT /duty/schedule/{id}/leaders` - æ›´æ–°å€¼ç­é•¿
- `PUT /duty/schedule/{id}/employees-and-leaders` - åŒæ—¶æ›´æ–°å€¼ç­äººå‘˜å’Œå€¼ç­é•¿
- `GET /duty/assignment/list/{scheduleId}` - æ ¹æ®å€¼ç­è¡¨IDè·å–å€¼ç­å®‰æ’
- `POST /duty/assignment/batch` - æ‰¹é‡æ·»åŠ å€¼ç­å®‰æ’
- `DELETE /duty/assignment/batch-delete` - æ‰¹é‡åˆ é™¤æ’ç­

### 4. æ‰¹é‡æ¸…ç©ºæ’ç­åŠŸèƒ½

**å®ç°ä½ç½®**: 
- [DutyAssignmentController.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/controller/DutyAssignmentController.java)
- [DutyAssignmentService.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/service/DutyAssignmentService.java)
- [DutyAssignment.vue](file:///d:/workspace/lasudev/hyper-duty/frontend/src/views/duty/DutyAssignment.vue)

**æ ¸å¿ƒé€»è¾‘**:
- æ—¥æœŸèŒƒå›´é€‰æ‹©ï¼šæ”¯æŒé€‰æ‹©å¼€å§‹æ—¥æœŸå’Œç»“æŸæ—¥æœŸ
- äºŒæ¬¡ç¡®è®¤ï¼šç‚¹å‡»ç¡®è®¤å‰å¼¹å‡ºç¡®è®¤å¯¹è¯æ¡†
- æ‰¹é‡åˆ é™¤ï¼šæ ¹æ®å€¼ç­è¡¨IDå’Œæ—¥æœŸèŒƒå›´åˆ é™¤æ‰€æœ‰æ’ç­
- æƒé™æ§åˆ¶ï¼šåªæœ‰å€¼ç­é•¿æ‰èƒ½ä½¿ç”¨æ‰¹é‡æ¸…ç©ºåŠŸèƒ½

**åŠŸèƒ½ç‰¹æ€§**:
- æ—¥æœŸèŒƒå›´é€‰æ‹©å™¨
- è­¦å‘Šæç¤ºï¼šæ¸…ç©ºæ“ä½œä¸å¯æ¢å¤
- äºŒæ¬¡ç¡®è®¤ï¼šé˜²æ­¢è¯¯æ“ä½œ
- æ“ä½œåé¦ˆï¼šæ¸…ç©ºæˆåŠŸåæ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯

**APIæ¥å£**:
- `DELETE /duty/assignment/batch-delete` - æ‰¹é‡åˆ é™¤æ’ç­

### 5. è¯·å‡ç”³è¯·åŠŸèƒ½

**å®ç°ä½ç½®**: 
- [LeaveRequestController.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/controller/LeaveRequestController.java)
- [LeaveRequestService.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/service/LeaveRequestService.java)
- [LeaveRequestServiceImpl.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/service/impl/LeaveRequestServiceImpl.java)
- [LeaveRequest.vue](file:///d:/workspace/lasudev/hyper-duty/frontend/src/views/duty/LeaveRequest.vue)

**æ ¸å¿ƒé€»è¾‘**:
- å€¼ç­è¡¨é€‰æ‹©ï¼šç”¨æˆ·æäº¤è¯·å‡ç”³è¯·æ—¶éœ€è¦é€‰æ‹©å€¼ç­è¡¨
- å®¡æ‰¹äººè‡ªåŠ¨è®¾ç½®ï¼šç³»ç»Ÿè‡ªåŠ¨æŸ¥æ‰¾å€¼ç­è¡¨çš„å€¼ç­é•¿ï¼Œè®¾ç½®ä¸ºå½“å‰å®¡æ‰¹äºº
- ç”³è¯·ç¼–å·è‡ªåŠ¨ç”Ÿæˆï¼šæ ¼å¼ä¸º LV + æ—¶é—´æˆ³ + éšæœºæ•°
- å®¡æ‰¹è®°å½•æŸ¥è¯¢ï¼šæ”¯æŒæŸ¥çœ‹å®¡æ‰¹å†å²
- é‡æ–°æäº¤åŠŸèƒ½ï¼šè¢«æ‹’ç»çš„ç”³è¯·å¯ä»¥é‡æ–°æäº¤

**åŠŸèƒ½ç‰¹æ€§**:
- è¯·å‡ç±»å‹ï¼šäº‹å‡ã€ç—…å‡ã€å¹´å‡ã€è°ƒä¼‘ã€å…¶ä»–
- è¯·å‡æ—¶é•¿è®¡ç®—
- å¼€å§‹å’Œç»“æŸæ—¥æœŸé€‰æ‹©
- å¼€å§‹å’Œç»“æŸæ—¶é—´é€‰æ‹©
- è¯·å‡åŸå› å¡«å†™
- é™„ä»¶ä¸Šä¼ æ”¯æŒ
- å®¡æ‰¹è®°å½•æ—¶é—´çº¿å±•ç¤º
- å½“å‰å®¡æ‰¹äººæ˜¾ç¤º
- æ—¶é—´æ ¼å¼åŒ–æ˜¾ç¤º

**APIæ¥å£**:
- `POST /duty/leave-request` - æäº¤è¯·å‡ç”³è¯·
- `GET /duty/leave-request/my/{employeeId}` - è·å–æˆ‘çš„è¯·å‡ç”³è¯·
- `GET /duty/leave-request/{id}` - è·å–è¯·å‡ç”³è¯·è¯¦æƒ…
- `DELETE /duty/leave-request/{id}` - åˆ é™¤è¯·å‡ç”³è¯·
- `GET /duty/leave-request/approval-records/{requestId}` - è·å–å®¡æ‰¹è®°å½•

### 6. è¯·å‡å®¡æ‰¹åŠŸèƒ½

**å®ç°ä½ç½®**: 
- [LeaveRequestController.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/controller/LeaveRequestController.java)
- [LeaveRequestService.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/service/LeaveRequestService.java)
- [LeaveRequestServiceImpl.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/service/impl/LeaveRequestServiceImpl.java)
- [LeaveApproval.vue](file:///d:/workspace/lasudev/hyper-duty/frontend/src/views/duty/LeaveApproval.vue)

**æ ¸å¿ƒé€»è¾‘**:
- å€¼ç­é•¿å®¡æ‰¹ï¼šå€¼ç­é•¿åªèƒ½çœ‹åˆ°è‡ªå·±ä½œä¸ºå€¼ç­é•¿çš„å€¼ç­è¡¨ä¸­çš„å¾…å®¡æ‰¹ç”³è¯·
- æ’ç­æ£€æŸ¥ï¼šæ£€æŸ¥ç”³è¯·äººè¯·å‡æœŸé—´æ˜¯å¦æœ‰æ’ç­
- è‡ªåŠ¨æ’ç­ï¼šæ”¯æŒè½®æ¢æ’ç­å’Œå‡è¡¡æ’ç­
- æ’ç­å®Œæˆç¡®è®¤ï¼šå€¼ç­é•¿ç¡®è®¤æ’ç­å®Œæˆåæ‰èƒ½æµè½¬å®¡æ‰¹
- å®¡æ‰¹æ„è§è®°å½•ï¼šæ”¯æŒå¡«å†™å®¡æ‰¹æ„è§
- æ‹’ç»åŸå› è®°å½•ï¼šæ‹’ç»æ—¶å¿…é¡»å¡«å†™æ‹’ç»åŸå› 

**åŠŸèƒ½ç‰¹æ€§**:
- å¾…å®¡æ‰¹åˆ—è¡¨æŸ¥è¯¢ï¼šæ ¹æ®å€¼ç­é•¿èº«ä»½æŸ¥è¯¢å¾…å®¡æ‰¹ç”³è¯·
- å€¼ç­è¡¨ç­›é€‰ï¼šæ”¯æŒæŒ‰å€¼ç­è¡¨ç­›é€‰å¾…å®¡æ‰¹ç”³è¯·
- æ’ç­å¤„ç†æ–¹å¼ï¼š
  - æ£€æŸ¥æ’ç­ï¼šæ£€æŸ¥ç”³è¯·äººè¯·å‡æœŸé—´æ˜¯å¦æœ‰æ’ç­
  - è‡ªåŠ¨æ’ç­ï¼šè‡ªåŠ¨ç”Ÿæˆæ’ç­
    - è½®æ¢æ’ç­ï¼šäººå‘˜è½®æµå€¼ç­
    - å‡è¡¡æ’ç­ï¼šæŒ‰å‘˜å·¥æœ¬æœˆå·¥æ—¶ä¼˜å…ˆæ’å°‘
  - è·³è¿‡ï¼šç›´æ¥å®¡æ‰¹é€šè¿‡
- æ’ç­å®Œæˆç¡®è®¤ï¼šæ£€æŸ¥æ’ç­åç¡®è®¤æ’ç­å®Œæˆ
- è·³è½¬åˆ°æ’ç­é¡µé¢ï¼šç‚¹å‡»"å»æ’ç­"æŒ‰é’®è·³è½¬åˆ°å€¼ç­å®‰æ’é¡µé¢
- æ—¶é—´æ ¼å¼åŒ–æ˜¾ç¤º

**APIæ¥å£**:
- `GET /duty/leave-request/pending/{approverId}` - è·å–å¾…å®¡æ‰¹åˆ—è¡¨
- `GET /duty/leave-request/pending/schedule/{scheduleId}` - æ ¹æ®å€¼ç­è¡¨IDè·å–å¾…å®¡æ‰¹åˆ—è¡¨
- `PUT /duty/leave-request/approve/{requestId}` - å®¡æ‰¹è¯·å‡ç”³è¯·
- `GET /duty/leave-request/check-schedule` - æ£€æŸ¥å‘˜å·¥æ’ç­
- `PUT /duty/leave-request/confirm-schedule/{requestId}` - ç¡®è®¤æ’ç­å®Œæˆ

### 7. å¤šçº§å®¡æ‰¹æµç¨‹

**å®ç°ä½ç½®**: [LeaveRequestServiceImpl.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/service/impl/LeaveRequestServiceImpl.java)

**æ ¸å¿ƒé€»è¾‘**:
- å®¡æ‰¹å±‚çº§ç®¡ç†ï¼šæ”¯æŒå¤šçº§å®¡æ‰¹
- å®¡æ‰¹äººæƒé™éªŒè¯ï¼šæ£€æŸ¥å®¡æ‰¹äººæ˜¯å¦æœ‰æƒé™
- å®¡æ‰¹è®°å½•ï¼šè®°å½•æ¯æ¬¡å®¡æ‰¹æ“ä½œ
- å®¡æ‰¹çŠ¶æ€æµè½¬ï¼špending -> approved/rejected
- å®¡æ‰¹æ„è§è®°å½•ï¼šæ”¯æŒå®¡æ‰¹æ„è§å¡«å†™
- å½“å‰å®¡æ‰¹äººè®¾ç½®ï¼šæäº¤è¯·å‡ç”³è¯·æ—¶è‡ªåŠ¨è®¾ç½®å€¼ç­é•¿ä¸ºå½“å‰å®¡æ‰¹äºº

**APIæ¥å£**:
- `PUT /duty/leave-request/approve/{requestId}` - å®¡æ‰¹è¯·å‡ç”³è¯·

### 8. æ¶ˆæ¯æé†’åŠŸèƒ½

**å®ç°ä½ç½®**: [NotificationServiceImpl.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/service/impl/NotificationServiceImpl.java)

**åŠŸèƒ½ç‰¹æ€§**:
- æ¶ˆæ¯å‘é€ï¼šæ”¯æŒå‘é€å„ç§ç±»å‹æ¶ˆæ¯
- æ¶ˆæ¯æ¥æ”¶ï¼šæŒ‰æ¥æ”¶äººæŸ¥è¯¢æ¶ˆæ¯
- æœªè¯»æ¶ˆæ¯ï¼šæŸ¥è¯¢æœªè¯»æ¶ˆæ¯
- æ¶ˆæ¯å·²è¯»ï¼šæ ‡è®°æ¶ˆæ¯ä¸ºå·²è¯»
- æ‰¹é‡å·²è¯»ï¼šæ‰¹é‡æ ‡è®°æ¶ˆæ¯ä¸ºå·²è¯»
- æ¶ˆæ¯åˆ é™¤ï¼šåˆ é™¤æ¶ˆæ¯
- å…³è”ä¿¡æ¯ï¼šæ”¯æŒå…³è”ä¸šåŠ¡æ•°æ®

**APIæ¥å£**:
- `GET /duty/notification/list/{receiverId}` - è·å–æ‰€æœ‰æ¶ˆæ¯
- `GET /duty/notification/unread/{receiverId}` - è·å–æœªè¯»æ¶ˆæ¯
- `PUT /duty/notification/read/{notificationId}` - æ ‡è®°æ¶ˆæ¯å·²è¯»
- `PUT /duty/notification/read-all/{receiverId}` - æ‰¹é‡æ ‡è®°å·²è¯»
- `DELETE /duty/notification/{notificationId}` - åˆ é™¤æ¶ˆæ¯

### 9. æŠ¥è¡¨å¯¼å‡ºåŠŸèƒ½

**å®ç°ä½ç½®**: [ExcelExportUtil.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/util/ExcelExportUtil.java)

**æ”¯æŒå¯¼å‡º**:
- å€¼ç­å®‰æ’å¯¼å‡º
- å€¼ç­è®°å½•å¯¼å‡º
- è¯·å‡ç”³è¯·å¯¼å‡º

**ç‰¹æ€§**:
- è‡ªåŠ¨åˆ—å®½è°ƒæ•´
- è¡¨å¤´æ ·å¼è®¾ç½®
- ä¸­æ–‡æ–‡ä»¶åæ”¯æŒ
- UTF-8ç¼–ç 

**APIæ¥å£**:
- `GET /duty/export/assignments` - å¯¼å‡ºå€¼ç­å®‰æ’
- `GET /duty/export/records` - å¯¼å‡ºå€¼ç­è®°å½•
- `GET /duty/export/leave-requests` - å¯¼å‡ºè¯·å‡ç”³è¯·

### 10. æ’ç­ç»Ÿè®¡åŠŸèƒ½

**å®ç°ä½ç½®**: [DutyStatisticsServiceImpl.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/service/impl/DutyStatisticsServiceImpl.java)

**ç»Ÿè®¡ç»´åº¦**:
- æ€»ä½“ç»Ÿè®¡ï¼šæ€»æ’ç­æ•°ã€æ€»å€¼ç­å®‰æ’ã€æ€»å€¼ç­è®°å½•ã€æ—¥å‡æ—¶é•¿ã€æ€»åŠ ç­æ—¶é•¿ã€è¯·å‡ç”³è¯·æ•°
- éƒ¨é—¨ç»Ÿè®¡ï¼šå„éƒ¨é—¨æ’ç­æ•°é‡ç»Ÿè®¡
- ç­æ¬¡åˆ†å¸ƒï¼šå„ç­æ¬¡æ•°é‡å æ¯”
- æœˆåº¦è¶‹åŠ¿ï¼šè¿‘6ä¸ªæœˆå‡ºå‹¤å’ŒåŠ ç­è¶‹åŠ¿

**APIæ¥å£**:
- `GET /duty/statistics/overall` - è·å–æ€»ä½“ç»Ÿè®¡
- `GET /duty/statistics/dept` - è·å–éƒ¨é—¨ç»Ÿè®¡
- `GET /duty/statistics/shift-distribution` - è·å–ç­æ¬¡åˆ†å¸ƒ
- `GET /duty/statistics/monthly-trend` - è·å–æœˆåº¦è¶‹åŠ¿
- `GET /duty/statistics` - è·å–æ‰€æœ‰ç»Ÿè®¡æ•°æ®

### 11. è¯·å‡è°ƒç­ç®¡ç†

**è¯·å‡ç”³è¯·**:
- è¯·å‡ç±»å‹ï¼šäº‹å‡ã€ç—…å‡ã€å¹´å‡ã€è°ƒä¼‘ã€å…¶ä»–
- è¯·å‡æ—¶é•¿è®¡ç®—
- ç”³è¯·ç¼–å·è‡ªåŠ¨ç”Ÿæˆ
- å€¼ç­è¡¨é€‰æ‹©ï¼šå¿…é¡»é€‰æ‹©å€¼ç­è¡¨
- å®¡æ‰¹äººè‡ªåŠ¨è®¾ç½®ï¼šè‡ªåŠ¨è®¾ç½®ä¸ºå€¼ç­é•¿
- æ›¿è¡¥äººå‘˜é€‰æ‹©ï¼ˆè‡ªåŠ¨/æ‰‹åŠ¨ï¼‰
- å®¡æ‰¹çŠ¶æ€è·Ÿè¸ª
- é™„ä»¶ä¸Šä¼ æ”¯æŒ

**è¯·å‡å®¡æ‰¹**:
- å¾…å®¡æ‰¹åˆ—è¡¨æŸ¥è¯¢ï¼šå€¼ç­é•¿åªèƒ½çœ‹åˆ°è‡ªå·±ä½œä¸ºå€¼ç­é•¿çš„å€¼ç­è¡¨ä¸­çš„å¾…å®¡æ‰¹ç”³è¯·
- å®¡æ‰¹æ“ä½œï¼ˆé€šè¿‡/æ‹’ç»ï¼‰
- å®¡æ‰¹æ„è§è®°å½•
- å®¡æ‰¹å†å²æŸ¥çœ‹
- å¤šçº§å®¡æ‰¹æ”¯æŒ
- æ’ç­æ£€æŸ¥ï¼šæ£€æŸ¥ç”³è¯·äººè¯·å‡æœŸé—´æ˜¯å¦æœ‰æ’ç­
- è‡ªåŠ¨æ’ç­ï¼šæ”¯æŒè½®æ¢æ’ç­å’Œå‡è¡¡æ’ç­
- æ’ç­å®Œæˆç¡®è®¤ï¼šå€¼ç­é•¿ç¡®è®¤æ’ç­å®Œæˆåæ‰èƒ½æµè½¬å®¡æ‰¹

**è°ƒç­ç®¡ç†**:
- è°ƒç­ç”³è¯·æäº¤
- è°ƒç­å®¡æ‰¹æµç¨‹
- è°ƒç­ç¡®è®¤æœºåˆ¶ï¼ˆåŸäººå‘˜ã€ç›®æ ‡äººå‘˜ç¡®è®¤ï¼‰
- è°ƒç­å†å²è®°å½•

### 12. èŠ‚å‡æ—¥ä¿¡æ¯è·å–

**å®ç°ä½ç½®**:
- [HolidayUtil.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/util/HolidayUtil.java)
- [HolidayTaskExecutor.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/service/impl/HolidayTaskExecutor.java)
- [DutyHolidayService.java](file:///d:/workspace/lasudev/hyper-duty/src/main/java/com/lasu/hyperduty/service/DutyHolidayService.java)

**æ ¸å¿ƒé€»è¾‘**:
- APIé›†æˆï¼šæ”¯æŒä»å¤–éƒ¨APIè·å–èŠ‚å‡æ—¥æ•°æ®
- é»˜è®¤æ•°æ®ï¼šå½“APIè°ƒç”¨å¤±è´¥æ—¶ä½¿ç”¨é»˜è®¤èŠ‚å‡æ—¥æ•°æ®
- æ•°æ®å­˜å‚¨ï¼šå°†èŠ‚å‡æ—¥ä¿¡æ¯å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼Œä¾›å€¼ç­ç³»ç»Ÿä½¿ç”¨

**åŠŸèƒ½ç‰¹æ€§**:
- æ•°æ®å®Œæ•´æ€§ï¼šåŒ…å«å½“å‰å¹´ä»½å’Œä¸‹ä¸€å¹´çš„èŠ‚å‡æ—¥æ•°æ®
- å®¹é”™å¤„ç†ï¼šAPIè°ƒç”¨å¤±è´¥æ—¶ä½¿ç”¨é»˜è®¤æ•°æ®
- æ—¥å†é›†æˆï¼šèŠ‚å‡æ—¥ä¿¡æ¯æ˜¾ç¤ºåœ¨å€¼ç­å®‰æ’æ—¥å†ä¸­

**APIæ¥å£**:
- `GET /duty/holiday/list` - è·å–èŠ‚å‡æ—¥åˆ—è¡¨
- `GET /duty/holiday/check` - æ£€æŸ¥æŒ‡å®šæ—¥æœŸæ˜¯å¦ä¸ºèŠ‚å‡æ—¥
- `POST /duty/holiday/import` - å¯¼å…¥èŠ‚å‡æ—¥æ•°æ®

## ğŸ“Š åŠŸèƒ½ç‰¹æ€§

### 1. æ’ç­è®¡åˆ’ç®¡ç†
- âœ… å€¼ç­è¡¨åˆ›å»ºå’Œç®¡ç†
- âœ… å€¼ç­è¡¨æœç´¢åŠŸèƒ½
- âœ… å€¼ç­è¡¨åˆ†é¡µæ˜¾ç¤º
- âœ… å€¼ç­äººå‘˜ç®¡ç†ï¼ˆç©¿æ¢­æ¡†é€‰æ‹©ï¼‰
- âœ… å€¼ç­é•¿è®¾ç½®ï¼ˆå¤é€‰æ¡†é€‰æ‹©ï¼‰
- âœ… å€¼ç­å®‰æ’æ—¥å†è§†å›¾
- âœ… å€¼ç­å®‰æ’æ‰‹åŠ¨è°ƒæ•´
- âœ… æ‰¹é‡æ’ç­åŠŸèƒ½ï¼ˆè½®æ¢æ’ç­ã€å›ºå®šæ’ç­ã€æ’ç­æ¨¡å¼ï¼‰
- âœ… æ‰¹é‡æ¸…ç©ºæ’ç­ï¼ˆæ—¥æœŸèŒƒå›´é€‰æ‹©ã€äºŒæ¬¡ç¡®è®¤ï¼‰
- âœ… å€¼ç­é•¿æƒé™æ§åˆ¶ï¼ˆå‰ç«¯å’Œåç«¯åŒé‡éªŒè¯ï¼‰
- âœ… å€¼ç­è®°å½•ç­¾åˆ°ç­¾é€€
- âœ… è‡ªåŠ¨æ’ç­ç®—æ³•
- âœ… å†²çªæ£€æµ‹
- âœ… æ’ç­ç‰ˆæœ¬ç®¡ç†
- âœ… æ’ç­æ¨¡å¼ç®¡ç†

### 2. åŸºç¡€ä¿¡æ¯ç®¡ç†
- âœ… ç­æ¬¡é…ç½®ç®¡ç†
- âœ… æ’ç­è§„åˆ™é…ç½®
- âœ… äººå‘˜å¯æ’ç­æ—¶æ®µç®¡ç†

### 3. è¯·å‡è°ƒç­ç®¡ç†
- âœ… è¯·å‡ç”³è¯·æäº¤ï¼ˆå€¼ç­è¡¨é€‰æ‹©ï¼‰
- âœ… è¯·å‡å®¡æ‰¹æµç¨‹ï¼ˆå€¼ç­é•¿æƒé™æ§åˆ¶ï¼‰
- âœ… å½“å‰å®¡æ‰¹äººæ˜¾ç¤º
- âœ… å®¡æ‰¹è®°å½•æ—¶é—´çº¿å±•ç¤º
- âœ… é‡æ–°æäº¤åŠŸèƒ½
- âœ… æ’ç­æ£€æŸ¥åŠŸèƒ½
- âœ… è‡ªåŠ¨æ’ç­åŠŸèƒ½ï¼ˆè½®æ¢æ’ç­ã€å‡è¡¡æ’ç­ï¼‰
- âœ… æ’ç­å®Œæˆç¡®è®¤åŠŸèƒ½
- âœ… è·³è½¬åˆ°æ’ç­é¡µé¢
- âœ… æ›¿è¡¥äººå‘˜åŒ¹é…ï¼ˆè‡ªåŠ¨/æ‰‹åŠ¨ï¼‰
- âœ… è°ƒç­ç”³è¯·æäº¤
- âœ… è°ƒç­å®¡æ‰¹æµç¨‹
- âœ… è°ƒç­ç¡®è®¤æœºåˆ¶
- âœ… æ—¶é—´æ ¼å¼åŒ–æ˜¾ç¤º

### 4. æŠ¥è¡¨ç»Ÿè®¡åˆ†æ
- âœ… æ€»ä½“ç»Ÿè®¡æ•°æ®
- âœ… éƒ¨é—¨ç»´åº¦ç»Ÿè®¡
- âœ… ç­æ¬¡åˆ†å¸ƒç»Ÿè®¡
- âœ… æœˆåº¦è¶‹åŠ¿ç»Ÿè®¡
- âœ… ExcelæŠ¥è¡¨å¯¼å‡º



## ğŸš€ éƒ¨ç½²æŒ‡å—

### 1. æ•°æ®åº“åˆå§‹åŒ–

```bash
# ç¬¬ä¸€æ­¥ï¼šæ‰§è¡ŒDDLè„šæœ¬ï¼ˆåˆ›å»ºæ‰€æœ‰è¡¨ç»“æ„ï¼‰
mysql -u root -p hyper_duty < src/main/resources/sql/hyper_duty_ddl.sql

# ç¬¬äºŒæ­¥ï¼šæ‰§è¡ŒDMLè„šæœ¬ï¼ˆæ’å…¥åˆå§‹æ•°æ®ï¼‰
mysql -u root -p hyper_duty < src/main/resources/sql/hyper_duty_dml.sql
```

### 2. åç«¯å¯åŠ¨

```bash
# ç¼–è¯‘é¡¹ç›®
mvn clean package

# å¯åŠ¨åº”ç”¨
java -jar target/hyper-duty-*.jar
```

### 3. å‰ç«¯å¯åŠ¨

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…ä¾èµ–ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### 4. ç³»ç»Ÿè®¿é—®

æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:5173

é»˜è®¤è´¦å·ï¼š
- è¶…çº§ç®¡ç†å‘˜ï¼šadmin / 123456
- æ™®é€šç”¨æˆ·ï¼šzhangsan / 123456

## ğŸ“ ä½¿ç”¨è¯´æ˜

### å€¼ç­è¡¨ç®¡ç†
1. ç™»å½•ç³»ç»Ÿ
2. è¿›å…¥"å€¼ç­ç®¡ç†" -> "å€¼ç­è¡¨ç®¡ç†"
3. æŸ¥çœ‹å€¼ç­è¡¨åˆ—è¡¨ï¼š
   - æ”¯æŒæœç´¢å€¼ç­è¡¨åç§°
   - æ”¯æŒåˆ†é¡µæŸ¥çœ‹
   - æ˜¾ç¤ºå€¼ç­è¡¨åç§°ã€æè¿°ã€å¼€å§‹æ—¥æœŸã€ç»“æŸæ—¥æœŸã€çŠ¶æ€
4. æ·»åŠ å€¼ç­è¡¨ï¼š
   - ç‚¹å‡»"æ·»åŠ å€¼ç­è¡¨"æŒ‰é’®
   - å¡«å†™å€¼ç­è¡¨ä¿¡æ¯ï¼š
     - å€¼ç­è¡¨åç§°
     - æè¿°
     - å¼€å§‹æ—¥æœŸ
     - ç»“æŸæ—¥æœŸ
     - çŠ¶æ€ï¼ˆå¯ç”¨/ç¦ç”¨ï¼‰
   - ç‚¹å‡»"ç¡®å®š"ä¿å­˜
5. ç¼–è¾‘å€¼ç­è¡¨ï¼š
   - ç‚¹å‡»"ç¼–è¾‘"æŒ‰é’®
   - ä¿®æ”¹å€¼ç­è¡¨ä¿¡æ¯
   - ç‚¹å‡»"ç¡®å®š"ä¿å­˜
6. ç®¡ç†å€¼ç­äººå‘˜ï¼š
   - ç‚¹å‡»"äººå‘˜"æŒ‰é’®
   - åˆ‡æ¢åˆ°"äººå‘˜åˆ—è¡¨"æ ‡ç­¾é¡µï¼š
     - ä½¿ç”¨ç©¿æ¢­æ¡†é€‰æ‹©å€¼ç­äººå‘˜
     - å·¦ä¾§æ˜¾ç¤ºå¯é€‰äººå‘˜
     - å³ä¾§æ˜¾ç¤ºå·²é€‰äººå‘˜
     - æ”¯æŒæœç´¢äººå‘˜
   - åˆ‡æ¢åˆ°"å€¼ç­é•¿è®¾ç½®"æ ‡ç­¾é¡µï¼š
     - å‹¾é€‰éœ€è¦è®¾ç½®ä¸ºå€¼ç­é•¿çš„äººå‘˜
     - æ˜¾ç¤ºå½“å‰å€¼ç­é•¿æ•°é‡
   - ç‚¹å‡»"ä¿å­˜"æŒ‰é’®
7. åˆ é™¤å€¼ç­è¡¨ï¼š
   - ç‚¹å‡»"åˆ é™¤"æŒ‰é’®
   - ç¡®è®¤åˆ é™¤æ“ä½œ

### å€¼ç­å®‰æ’
1. ç™»å½•ç³»ç»Ÿï¼ˆéœ€è¦å€¼ç­é•¿æƒé™ï¼‰
2. è¿›å…¥"å€¼ç­ç®¡ç†" -> "å€¼ç­å®‰æ’"
3. é€‰æ‹©å€¼ç­è¡¨ï¼š
   - ä»ä¸‹æ‹‰åˆ—è¡¨ä¸­é€‰æ‹©å€¼ç­è¡¨
   - ç³»ç»Ÿè‡ªåŠ¨åŠ è½½è¯¥å€¼ç­è¡¨çš„æ’ç­ä¿¡æ¯
4. æŸ¥çœ‹æ’ç­æ—¥å†ï¼š
   - æ—¥å†æ˜¾ç¤ºæ¯å¤©çš„æ’ç­æƒ…å†µ
   - æ˜¾ç¤ºç­æ¬¡å’Œå€¼ç­äººå‘˜
   - ç©ºç™½æ—¥æœŸæ˜¾ç¤º+å·æŒ‰é’®ï¼ˆä»…å€¼ç­é•¿å¯è§ï¼‰
   - ç¾åŒ–çš„æ»šåŠ¨æ¡æ ·å¼ï¼Œæä¾›æ›´å¥½çš„è§†è§‰ä½“éªŒ
5. æŸ¥çœ‹å½“å¤©å€¼ç­è¯¦æƒ…ï¼š
   - ç‚¹å‡»æ—¥å†ä¸Šçš„ä»»æ„æ—¥æœŸ
   - ç³»ç»Ÿå¼¹å‡ºå½“å¤©å€¼ç­äººå‘˜è¯¦æƒ…å¼¹çª—
   - å¼¹çª—åŒ…å«"å€¼ç­è¯¦æƒ…"å’Œ"ç»Ÿè®¡ä¿¡æ¯"ä¸¤ä¸ªæ ‡ç­¾é¡µ
   - "å€¼ç­è¯¦æƒ…"æ ‡ç­¾é¡µæ˜¾ç¤ºå½“å¤©æ‰€æœ‰å€¼ç­äººå‘˜çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç­æ¬¡ã€äººå‘˜ã€çŠ¶æ€å’Œå¤‡æ³¨
   - "ç»Ÿè®¡ä¿¡æ¯"æ ‡ç­¾é¡µæ˜¾ç¤ºå½“å¤©çš„ç»Ÿè®¡æ•°æ®ï¼ŒåŒ…æ‹¬æ€»å€¼ç­äººæ•°ã€æœ‰æ•ˆå€¼ç­äººæ•°ã€æ— æ•ˆå€¼ç­äººæ•°å’ŒèŠ‚å‡æ—¥ä¿¡æ¯
6. æ‰‹åŠ¨æ’ç­ï¼š
   - ç‚¹å‡»æ—¥å†ä¸Šçš„+å·æŒ‰é’®ï¼ˆä»…å€¼ç­é•¿å¯è§ï¼‰
   - å¡«å†™æ’ç­ä¿¡æ¯ï¼š
     - å€¼ç­æ—¥æœŸ
     - ç­æ¬¡
     - å€¼ç­äººå‘˜ï¼ˆä»…æ˜¾ç¤ºè¯¥å€¼ç­è¡¨çš„äººå‘˜ï¼‰
     - çŠ¶æ€ï¼ˆæœ‰æ•ˆ/æ— æ•ˆï¼‰
     - å¤‡æ³¨
   - ç‚¹å‡»"ç¡®å®š"ä¿å­˜
7. ç¼–è¾‘æ’ç­ï¼š
   - ç‚¹å‡»æ’ç­è®°å½•ï¼ˆä»…å€¼ç­é•¿å¯è§ï¼‰
   - ä¿®æ”¹æ’ç­ä¿¡æ¯
   - ç‚¹å‡»"ç¡®å®š"ä¿å­˜
8. æ‰¹é‡æ’ç­ï¼š
   - ç‚¹å‡»"æ‰¹é‡æ’ç­"æŒ‰é’®ï¼ˆä»…å€¼ç­é•¿å¯è§ï¼‰
   - å¡«å†™æ‰¹é‡æ’ç­ä¿¡æ¯ï¼š
     - æ—¥æœŸèŒƒå›´ï¼ˆå¼€å§‹æ—¥æœŸå’Œç»“æŸæ—¥æœŸï¼‰
     - æ’ç­æ–¹å¼ï¼š
       - è½®æ¢æ’ç­ï¼šäººå‘˜è½®æµå€¼ç­
       - å›ºå®šæ’ç­ï¼šæ‰€æœ‰äººå‘˜éƒ½å€¼ç­
       - æ’ç­æ¨¡å¼ï¼šä»ä¸‹æ‹‰èœå•é€‰æ‹©é¢„è®¾çš„æ’ç­æ¨¡å¼
     - ç­æ¬¡
     - å€¼ç­äººå‘˜ï¼ˆå¤šé€‰ï¼‰
     - å¤‡æ³¨
   - ç‚¹å‡»"ç¡®å®š"ä¿å­˜
   - ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆæ’ç­è®°å½•
9. æ‰¹é‡æ¸…ç©ºæ’ç­ï¼š
   - ç‚¹å‡»"æ‰¹é‡æ¸…ç©º"æŒ‰é’®ï¼ˆä»…å€¼ç­é•¿å¯è§ï¼‰
   - é€‰æ‹©æ—¥æœŸèŒƒå›´
   - ç‚¹å‡»"ç¡®è®¤æ¸…ç©º"
   - åœ¨ç¡®è®¤å¯¹è¯æ¡†ä¸­ç‚¹å‡»"ç¡®å®š"
   - ç³»ç»Ÿæ¸…ç©ºæŒ‡å®šæ—¥æœŸèŒƒå›´çš„æ‰€æœ‰æ’ç­
10. æƒé™è¯´æ˜ï¼š
    - åªæœ‰å€¼ç­é•¿æ‰èƒ½è¿›è¡Œæ’ç­æ“ä½œ
    - éå€¼ç­é•¿åªèƒ½æŸ¥çœ‹æ’ç­ä¿¡æ¯
    - éå€¼ç­é•¿æ— æ³•çœ‹åˆ°+å·æŒ‰é’®
    - éå€¼ç­é•¿æ— æ³•ç¼–è¾‘æ’ç­è®°å½•

### ç­æ¬¡é…ç½®ç®¡ç†
1. ç™»å½•ç³»ç»Ÿ
2. è¿›å…¥"å€¼ç­ç®¡ç†" -> "ç­æ¬¡é…ç½®"
3. ç‚¹å‡»"æ·»åŠ ç­æ¬¡"æŒ‰é’®
4. å¡«å†™ç­æ¬¡ä¿¡æ¯ï¼š
   - ç­æ¬¡åç§°
   - ç­æ¬¡ç¼–ç 
   - ç­æ¬¡ç±»å‹
   - ä¸Šç­æ—¶é—´
   - ä¸‹ç­æ—¶é—´
   - æ—¶é•¿
   - ä¼‘æ¯æ—¶é•¿
   - æ˜¯å¦åŠ ç­ç­æ¬¡
   - çŠ¶æ€
   - å¤‡æ³¨
5. ç‚¹å‡»"ç¡®å®š"ä¿å­˜
6. å¯ä»¥ç¼–è¾‘ã€å¯ç”¨/ç¦ç”¨ã€åˆ é™¤ç­æ¬¡

### è¯·å‡ç”³è¯·
1. ç™»å½•ç³»ç»Ÿ
2. è¿›å…¥"å€¼ç­ç®¡ç†" -> "è¯·å‡ç”³è¯·"
3. ç‚¹å‡»"ç”³è¯·è¯·å‡"æŒ‰é’®
4. å¡«å†™è¯·å‡ä¿¡æ¯ï¼š
   - å€¼ç­è¡¨ï¼ˆå¿…é€‰ï¼‰
   - è¯·å‡ç±»å‹
   - è¯·å‡æ—¶é•¿
   - å¼€å§‹æ—¥æœŸå’Œæ—¶é—´
   - ç»“æŸæ—¥æœŸå’Œæ—¶é—´
   - è¯·å‡åŸå› 
   - ä¸Šä¼ é™„ä»¶ï¼ˆå¯é€‰ï¼‰
5. ç‚¹å‡»"æäº¤ç”³è¯·"
6. ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆç”³è¯·ç¼–å·å¹¶è®¾ç½®å€¼ç­é•¿ä¸ºå½“å‰å®¡æ‰¹äºº
7. å¯ä»¥æŸ¥çœ‹ç”³è¯·è¯¦æƒ…æˆ–æ’¤é”€ç”³è¯·
8. å¯ä»¥æŸ¥çœ‹å®¡æ‰¹è®°å½•å’Œå½“å‰å®¡æ‰¹äºº

### è¯·å‡å®¡æ‰¹
1. ç™»å½•ç³»ç»Ÿï¼ˆéœ€è¦å€¼ç­é•¿æƒé™ï¼‰
2. è¿›å…¥"å€¼ç­ç®¡ç†" -> "è¯·å‡å®¡æ‰¹"
3. æŸ¥çœ‹å¾…å®¡æ‰¹çš„è¯·å‡ç”³è¯·åˆ—è¡¨ï¼ˆåªæ˜¾ç¤ºè‡ªå·±ä½œä¸ºå€¼ç­é•¿çš„å€¼ç­è¡¨ä¸­çš„ç”³è¯·ï¼‰
4. ç‚¹å‡»"å®¡æ‰¹"æŒ‰é’®
5. æŸ¥çœ‹ç”³è¯·è¯¦æƒ…
6. é€‰æ‹©å®¡æ‰¹ç»“æœï¼ˆé€šè¿‡/æ‹’ç»ï¼‰
7. é€‰æ‹©æ’ç­å¤„ç†æ–¹å¼ï¼š
   - æ£€æŸ¥æ’ç­ï¼šæ£€æŸ¥ç”³è¯·äººè¯·å‡æœŸé—´æ˜¯å¦æœ‰æ’ç­
   - è‡ªåŠ¨æ’ç­ï¼š
     - é€‰æ‹©æ’ç­æ–¹å¼ï¼ˆè½®æ¢æ’ç­/å‡è¡¡æ’ç­ï¼‰
     - é€‰æ‹©æ’ç­æ—¥æœŸèŒƒå›´
     - ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆæ’ç­
   - è·³è¿‡ï¼šç›´æ¥å®¡æ‰¹é€šè¿‡
8. å¡«å†™å®¡æ‰¹æ„è§
9. ç‚¹å‡»"ç¡®å®š"å®Œæˆå®¡æ‰¹"
10. å¦‚æœé€‰æ‹©æ£€æŸ¥æ’ç­ï¼š
    - æ£€æŸ¥æ’ç­åï¼Œç‚¹å‡»"ç¡®è®¤æ’ç­å®Œæˆ"æŒ‰é’®å®Œæˆå®¡æ‰¹
    - æˆ–ç‚¹å‡»"å»æ’ç­"æŒ‰é’®è·³è½¬åˆ°å€¼ç­å®‰æ’é¡µé¢
11. æŸ¥çœ‹å·²å®¡æ‰¹è®°å½•ï¼š
    - åˆ‡æ¢åˆ°"å·²å®¡æ‰¹"æ ‡ç­¾é¡µ
    - æŸ¥çœ‹å†å²å®¡æ‰¹è®°å½•
    - æ”¯æŒæŒ‰å€¼ç­è¡¨ç­›é€‰å·²å®¡æ‰¹è®°å½•

### è°ƒç­ç®¡ç†
1. ç™»å½•ç³»ç»Ÿ
2. è¿›å…¥"å€¼ç­ç®¡ç†" -> "è°ƒç­ç®¡ç†"
3. ç‚¹å‡»"ç”³è¯·è°ƒç­"æŒ‰é’®
4. å¡«å†™è°ƒç­ä¿¡æ¯ï¼š
   - åŸå€¼ç­äººå‘˜
   - ç›®æ ‡å€¼ç­äººå‘˜
   - è°ƒç­æ—¥æœŸ
   - è°ƒç­ç­æ¬¡
   - è°ƒç­åŸå› 
5. ç‚¹å‡»"æäº¤ç”³è¯·"
6. ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆç”³è¯·ç¼–å·
7. å¯ä»¥æŸ¥çœ‹ç”³è¯·è¯¦æƒ…æˆ–æ’¤é”€ç”³è¯·

### æ’ç­ç»Ÿè®¡
1. ç™»å½•ç³»ç»Ÿ
2. è¿›å…¥"å€¼ç­ç®¡ç†" -> "æ’ç­ç»Ÿè®¡"
3. æŸ¥çœ‹ç»Ÿè®¡æ•°æ®ï¼š
   - æ€»ä½“ç»Ÿè®¡ï¼ˆæ’ç­æ¦‚è§ˆã€å‡ºå‹¤ç»Ÿè®¡ï¼‰
   - éƒ¨é—¨ç»Ÿè®¡
   - ç­æ¬¡åˆ†å¸ƒï¼ˆé¥¼å›¾ï¼‰
   - æœˆåº¦è¶‹åŠ¿ï¼ˆæŸ±çŠ¶å›¾ï¼‰
4. å¯ä»¥å¯¼å‡ºExcelæŠ¥è¡¨

### è‡ªåŠ¨æ’ç­
1. ç™»å½•ç³»ç»Ÿ
2. è¿›å…¥"å€¼ç­ç®¡ç†" -> "å€¼ç­è¡¨ç®¡ç†"
3. é€‰æ‹©å€¼ç­è¡¨
4. ç‚¹å‡»"è‡ªåŠ¨æ’ç­"æŒ‰é’®
5. é€‰æ‹©æ’ç­è§„åˆ™
6. ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆæ’ç­è®¡åˆ’
7. å¯ä»¥æ‰‹åŠ¨è°ƒæ•´æ’ç­

## ğŸ“ æ–‡ä»¶ç»“æ„

### åç«¯æ–‡ä»¶ç»“æ„

```
src/main/java/com/lasu/hyperduty/
â”œâ”€â”€ entity/                    # å®ä½“ç±»ï¼ˆ13ä¸ªï¼‰
â”‚   â”œâ”€â”€ DutySchedule.java
â”‚   â”œâ”€â”€ DutyScheduleEmployee.java
â”‚   â”œâ”€â”€ DutyAssignment.java
â”‚   â”œâ”€â”€ DutyRecord.java
â”‚   â”œâ”€â”€ DutyShiftConfig.java
â”‚   â”œâ”€â”€ DutyScheduleRule.java
â”‚   â”œâ”€â”€ EmployeeAvailableTime.java
â”‚   â”œâ”€â”€ LeaveRequest.java
â”‚   â”œâ”€â”€ ApprovalRecord.java
â”‚   â”œâ”€â”€ SwapRequest.java
â”‚   â”œâ”€â”€ ScheduleVersion.java
â”‚   â”œâ”€â”€ DutyStatistics.java
â”‚   â””â”€â”€ Notification.java
â”œâ”€â”€ mapper/                    # Mapperæ¥å£ï¼ˆ13ä¸ªï¼‰
â”‚   â”œâ”€â”€ DutyScheduleMapper.java
â”‚   â”œâ”€â”€ DutyAssignmentMapper.java
â”‚   â”œâ”€â”€ DutyRecordMapper.java
â”‚   â”œâ”€â”€ DutyShiftConfigMapper.java
â”‚   â”œâ”€â”€ DutyScheduleRuleMapper.java
â”‚   â”œâ”€â”€ EmployeeAvailableTimeMapper.java
â”‚   â”œâ”€â”€ LeaveRequestMapper.java
â”‚   â”œâ”€â”€ ApprovalRecordMapper.java
â”‚   â”œâ”€â”€ SwapRequestMapper.java
â”‚   â”œâ”€â”€ ScheduleVersionMapper.java
â”‚   â”œâ”€â”€ DutyStatisticsMapper.java
â”‚   â””â”€â”€ NotificationMapper.java
â”œâ”€â”€ service/                   # Serviceæ¥å£ï¼ˆ13ä¸ªï¼‰
â”‚   â”œâ”€â”€ DutyScheduleService.java
â”‚   â”œâ”€â”€ DutyAssignmentService.java
â”‚   â”œâ”€â”€ DutyRecordService.java
â”‚   â”œâ”€â”€ DutyShiftConfigService.java
â”‚   â”œâ”€â”€ DutyScheduleRuleService.java
â”‚   â”œâ”€â”€ EmployeeAvailableTimeService.java
â”‚   â”œâ”€â”€ LeaveRequestService.java
â”‚   â”œâ”€â”€ ApprovalRecordService.java
â”‚   â”œâ”€â”€ SwapRequestService.java
â”‚   â”œâ”€â”€ ScheduleVersionService.java
â”‚   â”œâ”€â”€ NotificationService.java
â”‚   â”œâ”€â”€ AutoScheduleService.java
â”‚   â””â”€â”€ DutyStatisticsService.java
â”œâ”€â”€ service/impl/              # Serviceå®ç°ï¼ˆ16ä¸ªï¼‰
â”‚   â”œâ”€â”€ DutyScheduleServiceImpl.java
â”‚   â”œâ”€â”€ DutyAssignmentServiceImpl.java
â”‚   â”œâ”€â”€ DutyRecordServiceImpl.java
â”‚   â”œâ”€â”€ DutyShiftConfigServiceImpl.java
â”‚   â”œâ”€â”€ DutyScheduleRuleServiceImpl.java
â”‚   â”œâ”€â”€ EmployeeAvailableTimeServiceImpl.java
â”‚   â”œâ”€â”€ LeaveRequestServiceImpl.java
â”‚   â”œâ”€â”€ ApprovalRecordServiceImpl.java
â”‚   â”œâ”€â”€ SwapRequestServiceImpl.java
â”‚   â”œâ”€â”€ ScheduleVersionServiceImpl.java
â”‚   â”œâ”€â”€ NotificationServiceImpl.java
â”‚   â”œâ”€â”€ AutoScheduleServiceImpl.java
â”‚   â”œâ”€â”€ DutyStatisticsServiceImpl.java
â”‚   â””â”€â”€ ExportServiceImpl.java
â”œâ”€â”€ controller/                 # Controllerï¼ˆ12ä¸ªï¼‰
â”‚   â”œâ”€â”€ DutyScheduleController.java
â”‚   â”œâ”€â”€ DutyAssignmentController.java
â”‚   â”œâ”€â”€ DutyRecordController.java
â”‚   â”œâ”€â”€ DutyShiftConfigController.java
â”‚   â”œâ”€â”€ LeaveRequestController.java
â”‚   â”œâ”€â”€ LeaveApprovalController.java
â”‚   â”œâ”€â”€ SwapRequestController.java
â”‚   â”œâ”€â”€ DutyStatisticsController.java
â”‚   â”œâ”€â”€ AutoScheduleController.java
â”‚   â”œâ”€â”€ ExportController.java
â”‚   â””â”€â”€ NotificationController.java
â”œâ”€â”€ common/                    # å…¬å…±ç±»
â”‚   â”œâ”€â”€ ResponseResult.java
â”‚   â””â”€â”€ GlobalExceptionHandler.java
â””â”€â”€ util/                      # å·¥å…·ç±»
    â””â”€â”€ ExcelExportUtil.java
```

### å‰ç«¯æ–‡ä»¶ç»“æ„

```
frontend/src/
â”œâ”€â”€ views/                     # é¡µé¢ç»„ä»¶ï¼ˆ9ä¸ªï¼‰
â”‚   â”œâ”€â”€ duty/
â”‚   â”‚   â”œâ”€â”€ DutyLayout.vue
â”‚   â”‚   â”œâ”€â”€ DutySchedule.vue
â”‚   â”‚   â”œâ”€â”€ DutyAssignment.vue
â”‚   â”‚   â”œâ”€â”€ DutyRecord.vue
â”‚   â”‚   â”œâ”€â”€ ShiftConfig.vue
â”‚   â”‚   â”œâ”€â”€ LeaveRequest.vue
â”‚   â”‚   â”œâ”€â”€ LeaveApproval.vue
â”‚   â”‚   â”œâ”€â”€ SwapRequest.vue
â”‚   â”‚   â”œâ”€â”€ Statistics.vue
â”‚   â””â”€â”€ Login.vue
â”œâ”€â”€ api/                       # APIå°è£…ï¼ˆ9ä¸ªï¼‰
â”‚   â”œâ”€â”€ duty/
â”‚   â”‚   â”œâ”€â”€ schedule.js
â”‚   â”‚   â”œâ”€â”€ assignment.js
â”‚   â”‚   â”œâ”€â”€ record.js
â”‚   â”‚   â”œâ”€â”€ shiftConfig.js
â”‚   â”‚   â”œâ”€â”€ leaveRequest.js
â”‚   â”‚   â”œâ”€â”€ leaveApproval.js
â”‚   â”‚   â”œâ”€â”€ swapRequest.js
â”‚   â”‚   â”œâ”€â”€ statistics.js
â”‚   â”‚   â””â”€â”€ notification.js
â”‚   â””â”€â”€ auth.js
â”œâ”€â”€ router/                    # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ index.js
â”œâ”€â”€ components/                 # å…¬å…±ç»„ä»¶
â”‚   â””â”€â”€ Layout.vue
â”œâ”€â”€ stores/                    # çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ user.js
â””â”€â”€ utils/                     # å·¥å…·å‡½æ•°
    â”œâ”€â”€ request.js
    â””â”€â”€ dateUtils.js
```

### SQLæ–‡ä»¶ç»“æ„

```
src/main/resources/sql/
â”œâ”€â”€ hyper_duty_ddl.sql        # DDLè„šæœ¬ï¼ˆå»ºè¡¨è¯­å¥ï¼‰
â””â”€â”€ hyper_duty_dml.sql        # DMLè„šæœ¬ï¼ˆåˆå§‹æ•°æ®ï¼‰
```

## ğŸ¯ æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Spring Boot 3.x
- **ORM**: MyBatis Plus
- **æ•°æ®åº“**: MySQL 8.0+
- **æ„å»ºå·¥å…·**: Maven
- **Javaç‰ˆæœ¬**: JDK 17+

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Vue 3
- **UIåº“**: Element Plus
- **æ„å»ºå·¥å…·**: Vite
- **HTTPå®¢æˆ·ç«¯**: Axios
- **å›¾è¡¨åº“**: ECharts
- **çŠ¶æ€ç®¡ç†**: Pinia
- **æ—¥æœŸå¤„ç†**: Day.js

## ğŸ¨ ç•Œé¢ç‰¹ç‚¹

- å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒå¤šç§å±å¹•å°ºå¯¸
- Element Plusç»„ä»¶åº“ï¼Œç•Œé¢ç¾è§‚
- è¡¨æ ¼æ”¯æŒåˆ†é¡µã€æ’åºã€ç­›é€‰
- è¡¨å•éªŒè¯ï¼Œæ•°æ®å®Œæ•´æ€§ä¿è¯
- å›¾è¡¨å±•ç¤ºï¼Œæ•°æ®å¯è§†åŒ–
- æ¶ˆæ¯é€šçŸ¥ï¼ŒåŠæ—¶æé†’
- æ—¥å†è§†å›¾å±•ç¤ºæ’ç­ä¿¡æ¯
- ç©¿æ¢­æ¡†é€‰æ‹©å€¼ç­äººå‘˜
- å¤é€‰æ¡†è®¾ç½®å€¼ç­é•¿
- è­¦å‘Šæç¤ºå’ŒäºŒæ¬¡ç¡®è®¤ï¼Œé˜²æ­¢è¯¯æ“ä½œ
- æ—¶é—´æ ¼å¼åŒ–æ˜¾ç¤ºï¼Œæå‡ç”¨æˆ·ä½“éªŒ

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### æ•°æ®åº“ä¼˜åŒ–
- ä¸ºå¸¸ç”¨æŸ¥è¯¢å­—æ®µæ·»åŠ ç´¢å¼•
- å¤–é”®çº¦æŸä¿è¯æ•°æ®å®Œæ•´æ€§
- ä½¿ç”¨utf8mb4å­—ç¬¦é›†æ”¯æŒä¸­æ–‡

### ä»£ç ä¼˜åŒ–
- ä½¿ç”¨MyBatis Plusç®€åŒ–CRUDæ“ä½œ
- Serviceå±‚ä¸šåŠ¡é€»è¾‘å°è£…
- ç»Ÿä¸€å¼‚å¸¸å¤„ç†

## ğŸ” å®‰å…¨ç‰¹æ€§

- å¯†ç BCryptåŠ å¯†å­˜å‚¨
- JWT Tokenè®¤è¯
- SQLæ³¨å…¥é˜²æŠ¤ï¼ˆMyBatis Plusï¼‰
- XSSæ”»å‡»é˜²æŠ¤

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [éœ€æ±‚è¯´æ˜ä¹¦.md](file:///d:/workspace/lasudev/hyper-duty/éœ€æ±‚è¯´æ˜ä¹¦.md)
- [å¼€å‘æ‰‹å†Œ.md](file:///d:/workspace/lasudev/hyper-duty/å¼€å‘æ‰‹å†Œ.md)

## ğŸ¯ æ€»ç»“

æœ¬é¡¹ç›®å®ç°äº†ä¸€ä¸ªå®Œæ•´çš„å€¼ç­ç®¡ç†ç³»ç»Ÿï¼ŒåŒ…å«ï¼š

### æ•°æ®åº“
- **20ä¸ªè¡¨**ï¼šç³»ç»ŸåŸºç¡€è¡¨11ä¸ª + å€¼ç­ç®¡ç†æ‰©å±•è¡¨9ä¸ª
- **DDLè„šæœ¬**ï¼šå»ºè¡¨è¯­å¥ï¼ˆåŒ…å«æ‰€æœ‰æ–°å¢å­—æ®µï¼‰
- **DMLè„šæœ¬**ï¼šåˆå§‹æ•°æ®

### åç«¯
- **20ä¸ªå®ä½“ç±»**ï¼šå¯¹åº”æ‰€æœ‰æ•°æ®åº“è¡¨
- **20ä¸ªMapperæ¥å£**ï¼šæ•°æ®è®¿é—®å±‚
- **23ä¸ªService**ï¼šä¸šåŠ¡é€»è¾‘å±‚ï¼ˆ20ä¸ªåŸºç¡€ + 3ä¸ªæ‰©å±•ï¼‰
- **17ä¸ªController**ï¼šæ§åˆ¶å±‚
- **1ä¸ªå·¥å…·ç±»**ï¼šExcelå¯¼å‡º

### å‰ç«¯
- **10ä¸ªé¡µé¢ç»„ä»¶**ï¼šå®Œæ•´çš„UIç•Œé¢
- **10ä¸ªAPIå°è£…**ï¼šå‰åç«¯äº¤äº’
- **è·¯ç”±é…ç½®**ï¼š9ä¸ªå€¼ç­ç®¡ç†å­è·¯ç”±
- **èœå•æ³¨å†Œ**ï¼š17ä¸ªç³»ç»Ÿèœå•
- **çŠ¶æ€ç®¡ç†**ï¼šPinia store
- **å·¥å…·å‡½æ•°**ï¼šæ—¥æœŸæ ¼å¼åŒ–ã€è¯·æ±‚å°è£…

### æ ¸å¿ƒåŠŸèƒ½
âœ… åŸºç¡€ä¿¡æ¯ç®¡ç†ï¼ˆ8ä¸ªå­æ¨¡å—ï¼‰
âœ… æ’ç­è®¡åˆ’ç®¡ç†ï¼ˆ8ä¸ªå­æ¨¡å—ï¼‰
âœ… è¯·å‡è°ƒç­ç®¡ç†ï¼ˆ6ä¸ªå­æ¨¡å—ï¼‰
âœ… æŠ¥è¡¨ç»Ÿè®¡åˆ†æï¼ˆ4ä¸ªå­æ¨¡å—ï¼‰

### ç‰¹è‰²åŠŸèƒ½
âœ… å€¼ç­é•¿æƒé™æ§åˆ¶ï¼ˆå€¼ç­é•¿è®¾ç½®ã€æƒé™éªŒè¯ï¼‰
âœ… æ‰¹é‡æ’ç­åŠŸèƒ½ï¼ˆè½®æ¢æ’ç­ã€å›ºå®šæ’ç­ã€æ’ç­æ¨¡å¼ï¼‰
âœ… æ‰¹é‡æ¸…ç©ºæ’ç­ï¼ˆæ—¥æœŸèŒƒå›´é€‰æ‹©ã€äºŒæ¬¡ç¡®è®¤ï¼‰
âœ… è‡ªåŠ¨æ’ç­ç®—æ³•ï¼ˆè´Ÿè½½å‡è¡¡ã€å†²çªæ£€æµ‹ï¼‰
âœ… å¤šçº§å®¡æ‰¹æµç¨‹ï¼ˆå®¡æ‰¹è®°å½•ï¼‰
âœ… æ¶ˆæ¯æé†’åŠŸèƒ½ï¼ˆå®æ—¶é€šçŸ¥ã€å·²è¯»æ ‡è®°ï¼‰
âœ… æŠ¥è¡¨å¯¼å‡ºåŠŸèƒ½ï¼ˆExcelå¯¼å‡ºã€æ ·å¼è®¾ç½®ï¼‰
âœ… è¯·å‡ç”³è¯·åŠŸèƒ½ï¼ˆå€¼ç­è¡¨é€‰æ‹©ã€å®¡æ‰¹äººè‡ªåŠ¨è®¾ç½®ï¼‰
âœ… è¯·å‡å®¡æ‰¹åŠŸèƒ½ï¼ˆå€¼ç­é•¿æƒé™æ§åˆ¶ã€æ’ç­æ£€æŸ¥ã€è‡ªåŠ¨æ’ç­ï¼‰
âœ… å½“å‰å®¡æ‰¹äººæ˜¾ç¤ºï¼ˆå®æ—¶æ˜¾ç¤ºå®¡æ‰¹è¿›åº¦ï¼‰
âœ… å®¡æ‰¹è®°å½•æ—¶é—´çº¿ï¼ˆå¯è§†åŒ–å®¡æ‰¹æµç¨‹ï¼‰
âœ… æ—¶é—´æ ¼å¼åŒ–æ˜¾ç¤ºï¼ˆç»Ÿä¸€æ—¶é—´æ ¼å¼ï¼‰
âœ… æ’ç­å®Œæˆç¡®è®¤ï¼ˆç¡®ä¿æ’ç­å®Œæˆåæ‰èƒ½æµè½¬ï¼‰
âœ… å‡è¡¡æ’ç­ï¼ˆæŒ‰å‘˜å·¥æœ¬æœˆå·¥æ—¶ä¼˜å…ˆæ’å°‘ï¼‰

---

**æ–‡æ¡£ç‰ˆæœ¬**: 4.1  
**åˆ›å»ºæ—¥æœŸ**: 2026-01-17  
**æœ€åæ›´æ–°**: 2026-01-26
