# 请假审批功能测试用例

## 测试环境
- 前端：http://localhost:5174
- 后端：Spring Boot 服务运行中
- 浏览器：Chrome

## 测试用例

### 1. 检查排班功能 - 无排班情况（正例）
**测试步骤**：
1. 登录系统，进入请假审批页面
2. 选择一条请假申请，点击"审批"按钮
3. 选择"通过"审批结果
4. 选择"检查排班"作为排班处理方式
5. 点击"确定"按钮

**预期结果**：
- 系统提示"申请人请假期间无排班，可以审批"
- 排班状态显示为"无排班，可以审批"
- 审批对话框保持打开状态

### 2. 检查排班功能 - 有排班情况（反例）
**测试步骤**：
1. 登录系统，进入请假审批页面
2. 选择一条请假申请（申请人在请假期间已有排班），点击"审批"按钮
3. 选择"通过"审批结果
4. 选择"检查排班"作为排班处理方式
5. 点击"确定"按钮

**预期结果**：
- 系统提示"申请人请假期间已有排班，请先调整"
- 排班状态显示为"已有排班，请先调整"
- 审批对话框保持打开状态

### 3. 检查排班功能 - 请假日期只有一天（边界情况）
**测试步骤**：
1. 登录系统，进入请假审批页面
2. 选择一条请假申请（请假日期为当天），点击"审批"按钮
3. 选择"通过"审批结果
4. 选择"检查排班"作为排班处理方式
5. 点击"确定"按钮

**预期结果**：
- 系统正确检查当天的排班情况
- 根据检查结果显示相应的提示信息

### 4. 检查排班功能 - 请假日期跨越多个月（边界情况）
**测试步骤**：
1. 登录系统，进入请假审批页面
2. 选择一条请假申请（请假日期跨越12月和1月），点击"审批"按钮
3. 选择"通过"审批结果
4. 选择"检查排班"作为排班处理方式
5. 点击"确定"按钮

**预期结果**：
- 系统正确检查跨月的排班情况
- 根据检查结果显示相应的提示信息

### 5. 自动排班功能 - 轮换排班（正例）
**测试步骤**：
1. 登录系统，进入请假审批页面
2. 选择一条请假申请，点击"审批"按钮
3. 选择"通过"审批结果
4. 选择"自动排班"作为排班处理方式
5. 选择"轮换排班"作为排班类型
6. 选择日期范围
7. 点击"确定"按钮

**预期结果**：
- 系统提示"自动排班成功"
- 审批流程完成
- 页面刷新显示最新的审批状态

### 6. 自动排班功能 - 均衡排班（正例）
**测试步骤**：
1. 登录系统，进入请假审批页面
2. 选择一条请假申请，点击"审批"按钮
3. 选择"通过"审批结果
4. 选择"自动排班"作为排班处理方式
5. 选择"均衡排班"作为排班类型
6. 选择日期范围
7. 点击"确定"按钮

**预期结果**：
- 系统提示"自动排班成功"
- 审批流程完成
- 页面刷新显示最新的审批状态

### 7. 跳过排班功能（正例）
**测试步骤**：
1. 登录系统，进入请假审批页面
2. 选择一条请假申请，点击"审批"按钮
3. 选择"通过"审批结果
4. 选择"跳过"作为排班处理方式
5. 点击"确定"按钮

**预期结果**：
- 审批流程完成
- 页面刷新显示最新的审批状态
- 系统不进行排班检查或自动排班

### 8. 拒绝审批功能（正例）
**测试步骤**：
1. 登录系统，进入请假审批页面
2. 选择一条请假申请，点击"审批"按钮
3. 选择"拒绝"审批结果
4. 输入拒绝原因
5. 点击"确定"按钮

**预期结果**：
- 审批流程完成
- 页面刷新显示最新的审批状态为"已拒绝"

### 9. 拒绝审批功能 - 未填写拒绝原因（反例）
**测试步骤**：
1. 登录系统，进入请假审批页面
2. 选择一条请假申请，点击"审批"按钮
3. 选择"拒绝"审批结果
4. 不输入拒绝原因
5. 点击"确定"按钮

**预期结果**：
- 系统提示"请输入拒绝原因"
- 审批流程不继续

### 10. 审批意见为空（边界情况）
**测试步骤**：
1. 登录系统，进入请假审批页面
2. 选择一条请假申请，点击"审批"按钮
3. 选择"通过"审批结果
4. 选择"跳过"作为排班处理方式
5. 不输入审批意见
6. 点击"确定"按钮

**预期结果**：
- 审批流程完成
- 页面刷新显示最新的审批状态
- 系统允许审批意见为空

## 验证方法
1. 手动执行上述测试用例
2. 检查浏览器控制台是否有错误信息
3. 检查后端日志是否有异常
4. 验证数据库中数据是否正确更新

## 预期修复效果
修复前：点击"确定"按钮时控制台显示"ReferenceError: checkEmployeeSchedule is not defined"
修复后：点击"确定"按钮时正常执行检查排班功能，无控制台错误