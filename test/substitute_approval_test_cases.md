# 顶岗人员审批功能测试用例

## 测试环境
- 前端：http://localhost:5174
- 后端：Spring Boot 服务运行中
- 浏览器：Chrome

## 测试用例

### 1. 生成顶岗排班表功能（正例）
**测试步骤**：
1. 登录系统，进入请假审批页面
2. 选择一条请假申请，点击"审批"按钮
3. 选择"通过"审批结果
4. 选择"选择顶岗人员"作为排班处理方式
5. 点击"生成顶岗排班表"按钮

**预期结果**：
- 系统生成请假期间所有日期和班次的顶岗排班表
- 显示原值班人信息
- 顶岗人员下拉框可选择

### 2. 一键选择顶岗人员功能（正例）
**测试步骤**：
1. 生成顶岗排班表后
2. 点击"一键选择"按钮

**预期结果**：
- 系统自动为所有班次分配顶岗人员
- 分配的顶岗人员来自可用人员列表
- 每个班次都有对应的顶岗人员

### 3. 逐个选择顶岗人员功能（正例）
**测试步骤**：
1. 生成顶岗排班表后
2. 逐个为每个班次选择不同的顶岗人员

**预期结果**：
- 系统保存每个班次选择的顶岗人员
- 下拉框显示可用的顶岗人员列表
- 选择后显示对应的人员姓名

### 4. 检查排班状态功能（正例）
**测试步骤**：
1. 登录系统，进入请假审批页面
2. 选择一条请假申请，点击"审批"按钮
3. 选择"通过"审批结果
4. 选择"检查排班"作为排班处理方式
5. 点击"确定"按钮

**预期结果**：
- 系统显示请假人是否有排班的状态
- 有排班时显示"已有排班，建议选择顶岗人员"
- 无排班时显示"无排班，需要选择顶岗人员"
- 不阻止审批流程

### 5. 审批通过并选择顶岗人员功能（正例）
**测试步骤**：
1. 生成顶岗排班表并选择顶岗人员
2. 点击"确定"按钮完成审批

**预期结果**：
- 系统提示"审批成功"
- 请假申请状态变为"已通过"
- 排班状态变为"已完成"

### 6. 顶岗人员替换已排班人员功能（正例）
**测试步骤**：
1. 确保请假人在请假期间已有排班
2. 生成顶岗排班表并选择顶岗人员
3. 完成审批

**预期结果**：
- 系统将请假人已有的排班替换为顶岗人员
- 值班安排中显示顶岗人员而非请假人
- 替换操作成功完成

### 7. 顶岗人员填补未排班空缺功能（正例）
**测试步骤**：
1. 确保请假人在请假期间没有排班
2. 生成顶岗排班表并选择顶岗人员
3. 完成审批

**预期结果**：
- 系统为请假期间创建新的排班记录
- 新的排班记录中人员为顶岗人员
- 值班安排中显示新创建的排班

### 8. 排除请假期间请假的人员功能（正例）
**测试步骤**：
1. 确保有其他人员在请假人请假期间也请假了
2. 生成顶岗排班表

**预期结果**：
- 顶岗人员下拉框中不显示请假期间请假的人员
- 只显示可用的人员
- 排除逻辑正确执行

### 9. 验证必须选择顶岗人员功能（反例）
**测试步骤**：
1. 生成顶岗排班表
2. 不为任何班次选择顶岗人员
3. 点击"确定"按钮

**预期结果**：
- 系统提示"请为所有班次选择顶岗人员"
- 审批流程不继续
- 必须选择顶岗人员后才能完成审批

### 10. 边界情况测试 - 请假日期只有一天（边界情况）
**测试步骤**：
1. 选择一条请假日期为当天的请假申请
2. 生成顶岗排班表
3. 选择顶岗人员并完成审批

**预期结果**：
- 系统正确处理只有一天的请假情况
- 生成当天的顶岗排班表
- 审批流程正常完成

## 验证方法
1. 手动执行上述测试用例
2. 检查浏览器控制台是否有错误信息
3. 检查数据库中排班记录是否正确更新
4. 检查值班安排页面是否显示正确的顶岗人员